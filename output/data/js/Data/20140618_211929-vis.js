var graphNodes = "[(v180 : v148) 6.939306059431994, (v127 : v112) 87.81841525390675, (v100 : v183) 85.79960481723865, (v195 : v165) 11.726898840327982, (v158 : v194) 85.53168412326498, (v117 : v149) 66.15515289155248, (v132 : v178) 89.7905183728134, (v196 : v179) 66.06325582320554, (v103 : v170) 51.82633190790141, (v140 : v123) 88.19807223741796, (v128 : v170) 79.37913489075348, (v100 : v133) 3.1468318704469644, (v139 : v124) 6.505385686958453, (v191 : v150) 40.84493441542841, (v185 : v186) 55.2680002823419, (v120 : v184) 51.28516050240209, (v145 : v147) 93.55995410739617, (v133 : v148) 20.622525116947966, (v104 : v184) 56.684627980927296, (v100 : v185) 8.402223637597316, (v107 : v127) 46.34307675062962, (v105 : v163) 33.57390357079287, (v160 : v112) 79.60208105450751, (v168 : v109) 68.67286509296466, (v141 : v172) 87.02244629362366, (v146 : v172) 5.488885961238799, (v128 : v106) 59.76223252074069, (v197 : v123) 48.21048755757297, (v150 : v136) 3.044317879160674, (v169 : v123) 26.992585982683604, (v177 : v172) 52.3650414750228, (v135 : v166) 25.777879368968946, (v129 : v115) 60.25523737820825, (v166 : v192) 91.69815239589842, (v168 : v179) 27.884962544260006, (v122 : v109) 62.24495280562563, (v105 : v129) 76.48834285220222, (v168 : v118) 72.44631992979838, (v102 : v138) 69.19816428648237, (v136 : v181) 13.396004310384091, (v106 : v167) 71.70615288862653, (v176 : v102) 20.595730611396533, (v181 : v115) 99.05195738979945, (v190 : v172) 4.69312263103745, (v195 : v196) 31.201933708117615, (v146 : v198) 66.39443496434872, (v191 : v103) 88.88044872179034, (v114 : v136) 93.73117544434024, (v160 : v146) 66.8968505789486, (v173 : v130) 44.654394501406045, (v103 : v127) 0.06808698351403741, (v171 : v187) 6.373772637876596, (v168 : v132) 38.43030862688187, (v106 : v102) 69.26714427549778, (v188 : v118) 86.98548718382379, (v180 : v194) 95.93848174064765, (v112 : v168) 0.5260320339894653, (v147 : v144) 32.54029324804083, (v124 : v176) 47.46948042134028, (v110 : v167) 41.30351149990245, (v187 : v154) 76.02656507272675, (v148 : v138) 10.900826629132354, (v191 : v126) 40.892079740339426, (v126 : v133) 69.43692981667628, (v150 : v106) 15.024067496299931, (v157 : v102) 17.202658786088588, (v151 : v106) 6.560649817046215, (v107 : v164) 60.603440361161155, (v176 : v110) 89.67539831367046, (v101 : v190) 51.69229511309431, (v147 : v138) 5.914251882626942, (v174 : v198) 70.3826308675948, (v147 : v192) 91.57467747842028, (v134 : v198) 68.62779044506061, (v171 : v103) 80.82879532994649, (v162 : v134) 81.63650433297423, (v189 : v170) 43.966638483781736, (v179 : v119) 93.61269052266043, (v121 : v108) 67.31626239278752, (v186 : v168) 81.69300615410974, (v109 : v192) 14.619255490703942, (v134 : v180) 97.89800023865406, (v173 : v154) 29.000938753128203, (v102 : v161) 45.26620437635731, (v180 : v193) 16.834286817239708, (v182 : v117) 60.22161226161512, (v129 : v171) 77.97826155273458, (v117 : v114) 92.01263258434939, (v196 : v162) 15.859513445095196, (v138 : v160) 24.19610131585478, (v157 : v105) 32.009502123123426, (v143 : v159) 79.12725478493309, (v136 : v196) 15.876651589509683, (v120 : v133) 89.82211639806627, (v152 : v173) 16.47821112671084, (v113 : v131) 84.01138308161993, (v118 : v137) 88.77401245848469, (v150 : v120) 61.39607312438626, (v105 : v110) 57.13196755600344, (v143 : v163) 29.798834440808086, (v102 : v147) 20.073202554877522, (v136 : v103) 10.897218337264803, (v178 : v121) 25.355670471064695, (v145 : v105) 7.405449747065429, (v193 : v113) 89.66425391050413, (v159 : v122) 5.880550620784142, (v152 : v181) 91.57021614437903, (v118 : v123) 51.77106399713482, (v159 : v187) 75.41378986420418, (v131 : v157) 93.96850814389445, (v164 : v110) 14.323111612085892, (v126 : v114) 37.09190376390149, (v104 : v183) 66.2459299872289, (v197 : v194) 32.22571966879545, (v159 : v171) 42.73520372696553, (v185 : v102) 66.09528786942967, (v128 : v132) 97.95583954662065, (v165 : v161) 99.01750778045356, (v143 : v193) 38.19035497965648, (v128 : v157) 41.78740165893774, (v150 : v128) 79.80096758745657, (v189 : v145) 28.39429650776274, (v131 : v191) 27.502582541068023, (v139 : v173) 26.608860989651372, (v196 : v176) 62.82514993234125, (v123 : v174) 62.61040139099537, (v162 : v178) 84.26778044187857, (v189 : v141) 13.561661320678498, (v168 : v188) 11.905980469249366, (v127 : v178) 27.077171197517945, (v148 : v169) 97.7048900618003, (v186 : v114) 56.624990147846034, (v160 : v124) 82.67591078607003, (v146 : v134) 93.86676268144217, (v159 : v119) 29.013910543841003, (v133 : v183) 33.65635389756173, (v183 : v116) 71.75278213986032, (v192 : v128) 14.824356413601237, (v102 : v117) 74.1259401154252, (v169 : v151) 43.97830081809937, (v181 : v189) 4.125595605210474, (v114 : v169) 73.41288742893988, (v165 : v103) 48.69299749888685, (v124 : v151) 74.97999846778076, (v138 : v171) 45.076531898421244, (v112 : v109) 25.6058863193809, (v123 : v127) 86.26303086510727, (v158 : v183) 7.316750074117683, (v127 : v184) 75.6803078741601, (v176 : v135) 74.46039018919723, (v150 : v199) 93.80826969513039, (v106 : v155) 66.66953466151313, (v167 : v103) 50.7072119830543, (v156 : v160) 50.44324951941886, (v190 : v177) 40.12260252129136, (v173 : v104) 71.5304812403143, (v195 : v148) 65.66624737511911, (v187 : v117) 50.150654607824826, (v181 : v150) 62.07641934669563, (v148 : v190) 71.10914001043346, (v142 : v176) 95.7599821547531, (v176 : v151) 19.75201348664506, (v176 : v146) 61.31496906075265, (v110 : v192) 15.208293782845184, (v177 : v163) 33.68289895337866, (v132 : v136) 56.305786718863104, (v175 : v129) 29.708962465509003, (v151 : v195) 48.79698136143791, (v197 : v100) 45.48010892463697, (v154 : v188) 40.036263955762266, (v146 : v151) 85.71375010100934, (v102 : v123) 78.01229800943827, (v162 : v130) 84.09357780002124, (v164 : v132) 3.726677772850173, (v148 : v127) 25.76615187584008, (v135 : v115) 11.450451483237734, (v164 : v185) 48.75802842291155, (v190 : v191) 91.57545930597405, (v130 : v128) 94.94560858769204, (v175 : v119) 40.861428827518466, (v198 : v111) 55.06894780610183, (v153 : v157) 59.17882672267647, (v183 : v194) 59.34897088435294, (v167 : v161) 88.74060031931717, (v106 : v173) 85.3302304303842, (v145 : v122) 18.744356953070174, (v117 : v100) 18.975962909870347, (v187 : v101) 16.814412716388873, (v106 : v169) 21.699150776532793, (v133 : v179) 39.206516243590215, (v199 : v164) 34.39493377640345, (v125 : v197) 59.04630680050682, (v194 : v122) 25.681541197319323, (v169 : v178) 69.60661251902017, (v197 : v177) 53.05624855355035, (v188 : v102) 15.542825655124858, (v183 : v107) 16.690157842334486, (v176 : v127) 65.9159857100781, (v195 : v114) 11.84323937779661, (v178 : v134) 19.618867143054995, (v195 : v129) 19.664445631824044, (v185 : v143) 66.42268123196116, (v102 : v122) 61.29838226212407, (v102 : v113) 69.28486074885791, (v122 : v196) 97.15998011441668, (v162 : v153) 78.8682359841784, (v104 : v151) 3.9349464832687753, (v186 : v125) 96.54760738526713, (v143 : v183) 54.851092792716614, (v175 : v165) 13.712666283156205, (v166 : v172) 64.14205820322326, (v112 : v125) 33.170432119235, (v123 : v183) 11.050343212030322, (v111 : v178) 22.222063989409392, (v182 : v183) 10.413786681308224, (v175 : v180) 19.917140209241303, (v135 : v104) 50.63356342924933, (v107 : v193) 75.51471155631263, (v139 : v194) 31.980476211636056, (v120 : v178) 97.80825987876219, (v197 : v187) 41.66949772678311, (v163 : v157) 51.26796714027657, (v179 : v164) 31.393236437921303, (v160 : v100) 14.546905838266532, (v116 : v125) 79.08808746106347, (v136 : v162) 78.47958122066252, (v143 : v137) 32.21015917488727, (v131 : v128) 77.02551134581215, (v150 : v190) 33.88171586612062, (v100 : v105) 27.493559559967284, (v113 : v189) 16.655463223899545, (v147 : v123) 81.70360439042486, (v109 : v134) 28.618773004413068, (v175 : v125) 22.4420392494141, (v186 : v169) 1.9704514355021074, (v198 : v125) 58.65068131796578, (v116 : v193) 30.4591768845466, (v106 : v178) 96.32107980649315, (v157 : v198) 36.147795115343115, (v163 : v186) 72.17715873390578, (v100 : v195) 51.39652217204764, (v133 : v131) 5.109670609917982, (v182 : v187) 43.838350061147565, (v155 : v116) 31.23029624622188, (v125 : v111) 72.11181017293549, (v170 : v115) 66.65766258726956, (v130 : v117) 81.44231598600902, (v112 : v193) 76.11083385102567, (v143 : v127) 60.60872729028743, (v160 : v158) 92.50974750140229, (v150 : v130) 66.74427799300696, (v178 : v183) 24.57009607048072, (v114 : v155) 39.71075167555343, (v176 : v162) 36.3989787693085, (v104 : v189) 32.9242275256007, (v124 : v177) 79.97611226838342, (v139 : v105) 68.53538029237201, (v119 : v172) 91.83479654272391, (v144 : v186) 19.374436767478365, (v148 : v117) 26.991282284126385, (v156 : v139) 42.221024973449964, (v157 : v161) 33.026858795543404, (v103 : v188) 52.47458839820634, (v126 : v174) 66.08299253833827, (v179 : v106) 81.46723736038935, (v151 : v139) 8.327442718841526, (v140 : v132) 88.32534409626243, (v196 : v189) 67.19249716398387, (v110 : v124) 78.85907960703679, (v177 : v161) 63.44154181242337, (v129 : v181) 86.41306953982799, (v136 : v197) 55.016297663254235, (v193 : v176) 92.4816365571378, (v138 : v155) 92.8452180259542, (v189 : v168) 58.276206665917066, (v142 : v108) 73.60813390934713, (v146 : v152) 28.99079723145802, (v193 : v181) 92.16917530505002, (v110 : v158) 88.46634112461545, (v135 : v118) 16.388643311361395, (v108 : v175) 38.091605304821286, (v138 : v117) 11.745899448140484, (v145 : v190) 56.44473418700275, (v108 : v185) 49.15361058885743, (v150 : v141) 48.285619784251665, (v137 : v181) 92.08516358656925, (v153 : v170) 97.52771902287625, (v172 : v173) 98.30067283224633, (v178 : v135) 9.783900900472009, (v146 : v137) 95.73404408887397, (v163 : v158) 28.592018976863866, (v117 : v189) 24.248226265379625, (v179 : v116) 74.64238567199098, (v108 : v105) 36.79404134709683, (v192 : v193) 29.973698946462303, (v144 : v103) 50.89919774495092, (v106 : v170) 36.46156653576268, (v125 : v192) 49.30932557832757, (v148 : v173) 18.842129574478903, (v157 : v152) 76.00624486364276]"; 
 var hidden = new Array(); 
 var path = new Array(); 
hidden[0] = "[v171, v159, v187, v190, v172]"; 
path[0] = "[v157, v102, v188, v168, v112, v109, v192, v128, v106, v151, v104, v189, v181, v136, v150, v190, v172, v146, v152, v173, v148, v180, v193, v116, v155, v114, v195, v165, v175, v125, v198, v111, v178, v135, v115, v129, v105, v145, v122, v159, v119, v179, v164, v132, v140, v123, v183, v158, v163, v143, v137, v118, v188, v154, v187, v171]"; 
hidden[1] = "[v130, v162, v153, v157, v152]"; 
path[1] = "[v177, v163, v158, v183, v182, v187, v171, v159, v122, v145, v105, v100, v133, v131, v191, v150, v136, v103, v127, v148, v180, v193, v192, v109, v112, v168, v188, v102, v157, v161, v167, v110, v164, v132, v140, v123, v169, v186, v144, v147, v138, v117, v189, v181, v129, v195, v165, v175, v125, v198, v111, v178, v135, v115, v170, v106, v151, v104, v184, v120, v150, v190, v172, v146, v152, v173, v139, v124, v176, v162, v196, v179, v116, v155, v114, v126, v174, v123, v197, v194, v122, v196, v179, v119, v179, v133, v131, v128, v130, v128, v131, v113, v189, v141, v189, v104, v173, v154, v173, v130, v173, v106, v128, v132, v140, v132, v140, v123, v118, v137, v143, v185, v108, v121, v178, v134, v180, v134, v180, v175, v129, v171, v129, v181, v136, v197, v194, v197, v194, v139, v156, v160, v138, v160, v100, v105, v145, v147, v192, v166, v172, v141, v189, v117, v149, v117, v130, v117, v138, v148, v180, v175, v180, v148, v195, v114, v195, v196, v162, v153]"; 
hidden[2] = "[v164, v123, v169, v125, v109]"; 
path[2] = "[v117, v138, v147, v102, v188, v168, v112, v109, v192, v128, v157, v105, v145, v122, v159, v119, v175, v165, v195, v114, v126, v191, v131, v133, v100, v185, v164, v132, v136, v150, v106, v151, v104, v189, v181, v129, v115, v135, v178, v134, v198, v111, v125, v197, v194, v139, v124, v176, v162, v196, v179, v116, v193, v180, v148, v173, v152, v146, v172, v190, v177, v163, v158, v183, v182, v187, v171, v103, v127, v107, v127, v143, v137, v118, v123, v169]"; 
hidden[3] = "[v103, v170, v115, v125, v116]"; 
path[3] = "[v172, v190, v150, v136, v103, v127, v148, v180, v193, v192, v109, v112, v168, v188, v102, v157, v105, v145, v122, v159, v119, v175, v165, v195, v114, v126, v191, v131, v133, v100, v185, v164, v132, v140, v123, v183, v158, v163, v143, v137, v118, v135, v178, v134, v198, v111, v125, v197, v194, v139, v124, v176, v151, v104, v189, v181, v129, v115, v170, v106, v169, v186, v144, v147, v138, v117, v187, v171, v138, v160, v156, v139, v173, v152, v146, v176, v162, v196, v179, v116]"; 
hidden[4] = "[v192, v128, v136, v114, v149]"; 
path[4] = "[v153, v157, v102, v188, v168, v112, v109, v192, v128, v106, v151, v104, v189, v181, v136, v150, v190, v172, v146, v152, v173, v148, v180, v193, v116, v155, v114, v195, v165, v175, v125, v198, v111, v178, v135, v115, v129, v105, v145, v122, v159, v119, v179, v164, v132, v140, v123, v183, v158, v163, v143, v137, v118, v137, v118, v123, v169, v186, v144, v147, v138, v117, v100, v133, v131, v191, v126, v174, v126, v133, v120, v184, v127, v103, v167, v110, v124, v139, v194, v197, v187, v171, v138, v160, v156, v139, v124, v176, v162, v196, v122, v109, v134, v162, v130, v162, v178, v121, v108, v185, v108, v142, v176, v110, v164, v199, v150, v141, v150, v128, v170, v189, v113, v131, v128, v192, v166, v192, v109, v168, v118, v188, v154, v173, v154, v188, v168, v186, v168, v112, v125, v192, v109, v134, v198, v146, v134, v180, v134, v146, v152, v157, v161, v177, v172, v141, v172, v119, v175, v165, v175, v129, v115, v181, v150, v191, v150, v181, v129, v105, v163, v158, v194, v197, v136, v162, v130, v150, v181, v136, v181, v136, v162, v176, v102, v117, v182, v117, v149]"; 
hidden[5] = "[v195, v139, v148, v186, v125]"; 
path[5] = "[v128, v192, v109, v112, v168, v188, v102, v157, v105, v145, v122, v159, v119, v175, v165, v195, v114, v126, v191, v131, v133, v100, v185, v164, v132, v136, v150, v106, v151, v104, v189, v181, v129, v115, v135, v178, v134, v198, v111, v125, v197, v194, v139, v124, v176, v162, v196, v179, v116, v193, v180, v148, v138, v147, v144, v186]"; 
hidden[6] = "[v101, v190, v191, v106, v128]"; 
path[6] = "[v169, v186, v144, v147, v138, v148, v180, v193, v192, v109, v112, v168, v188, v102, v157, v105, v145, v122, v159, v119, v175, v165, v195, v114, v126, v191, v131, v133, v100, v185, v164, v132, v136, v150, v106, v151, v104, v189, v181, v129, v115, v135, v178, v134, v198, v111, v125, v197, v194, v139, v124, v176, v162, v196, v179, v116, v155, v114, v117, v187, v171, v103, v127, v107, v183, v158, v163, v143, v137, v118, v123, v174, v126, v133, v120, v184, v104, v173, v152, v146, v172, v190, v177, v161, v167, v110, v192, v128, v170, v153, v162, v130, v162, v178, v121, v108, v142, v176, v193, v113, v193, v116, v183, v182, v183, v182, v187, v101]"; 
hidden[7] = "[v117, v149, v154, v173, v130]"; 
path[7] = "[v135, v178, v134, v109, v192, v128, v157, v102, v188, v168, v112, v125, v175, v165, v195, v114, v126, v191, v131, v133, v100, v185, v164, v132, v136, v150, v106, v151, v104, v189, v181, v129, v115, v170, v103, v127, v148, v180, v193, v116, v155, v138, v147, v144, v186, v169, v123, v183, v158, v163, v143, v137, v118, v168, v179, v196, v162, v176, v124, v139, v173, v152, v146, v172, v190, v177, v197, v194, v122, v159, v119, v179, v168, v112, v160, v156, v139, v105, v145, v147, v102, v161, v167, v110, v167, v103, v171, v187, v101, v187, v182, v117, v149, v117, v130, v173, v154]"; 
hidden[8] = "[v129, v104, v135, v178, v169]"; 
path[8] = "[v195, v165, v175, v180, v148, v138, v147, v102, v188, v168, v112, v109, v192, v128, v157, v105, v145, v122, v159, v119, v172, v190, v150, v136, v103, v127, v178, v135, v115, v129, v171, v187, v101, v187, v197, v194, v139, v124, v176, v151, v104, v189, v181, v152, v173, v154, v188, v118, v123, v183, v158, v163, v143, v137, v146, v198, v111, v125, v116, v193, v107, v164, v132, v140, v123, v169]"; 
hidden[9] = "[v145, v191, v187, v101, v190]"; 
path[9] = "[v125, v175, v165, v195, v114, v126, v191, v131, v133, v100, v185, v164, v132, v168, v112, v109, v192, v128, v157, v102, v188, v154, v173, v152, v146, v172, v190, v150, v136, v103, v127, v148, v180, v193, v116, v155, v106, v151, v104, v189, v181, v129, v115, v135, v178, v134, v198, v111, v125, v197, v194, v122, v159, v119, v179, v196, v162, v176, v124, v139, v156, v160, v138, v147, v144, v186, v169, v123, v183, v158, v163, v143, v137, v118, v135, v166, v192, v110, v167, v161, v177, v190, v101, v187, v171, v187, v182, v117, v149, v117, v130, v150, v141, v189, v113, v102, v113, v102, v147, v145]"; 
var step, play;

function showGraph() {
    
	var width = $(document).width();
	
    var height = $(document).height() - 100;

    var g = new Graph();
	
	var graph = graphNodes.split(",");
	
	var hiddenItems = hidden[$('#round-to-play').val()].substring(0, hidden[$('#round-to-play').val()].length - 1).split(",");
	
	for (var k = 0; k < hiddenItems.length; k++) {
		
		hiddenItems[k] = hiddenItems[k].substring(1, hiddenItems[k].length);
		
		g.addNode(hiddenItems[k], { label : hiddenItems[k] + " HIDE" });
	
		$('#hidden').append(hiddenItems[k] + " ");
	
	}
	
	for (var i = 0; i < graph.length; i++) {
		
		g.addEdge(graph[i].substring(graph[i].indexOf("(") + 1, graph[i].indexOf(":") - 1), graph[i].substring(graph[i].indexOf(":") + 2, graph[i].indexOf(")")));
		 
	}
	
	var layouter = new Graph.Layout.Spring(g);
	
	var searchPath = path[$('#round-to-play').val()].substring(0, path[$('#round-to-play').val()].length - 1).split(",");
	
	var renderer = new Graph.Renderer.Raphael('canvas', g, width, height);
	
	step = function() {
		
		drawPath(hiddenItems, searchPath, g, renderer);
		
		searchPath.splice(0,1);
		
	}
	
	play = function() {
		
		setInterval(function(){step()},1000);
		
	}
		
	step();
	
};

function drawPath(hiddenItems, searchPath, g, renderer) {
	
	
	for (var j = 1; j < searchPath.length; j++) {
		
	
		 /* colourising the shortest paths and setting labels */
		for(e in g.edges) {
			
			if((searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].source.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].target.id) ||
			   (searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].target.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].source.id)) {
			
				$('#output').html(searchPath[j-1].substring(1,searchPath[j-1].length) + " to " + searchPath[j].substring(1,searchPath[j].length));
				
				for (var l = 0; l < hiddenItems.length; l++) {
				
					if ( hiddenItems[l] == g.edges[e].source.id || hiddenItems[l] == g.edges[e].target.id ) {
						
						//alert(hiddenItems[l] + " " + g.edges[e].source.id);
						//alert(hiddenItems[l] + " " + g.edges[e].target.id);
						hiddenItems.splice(l, 1);
						$('#hidden').html("Hidden Items: ");
						
						for (var o = 0; o < hiddenItems.length; o++) {
		
							//alert(hiddenItems);
							
							$('#hidden').append(hiddenItems[o] + " ");
						
						}
	
					}
					
				}
				
				g.edges[e].style.stroke = "#00c8a1";
				g.edges[e].style.fill = "#00c8a1";
				
				renderer.draw();
				return;
				
			} else {
				
				g.edges[e].style.stroke = "#fff";
			
			}
			
		}
		
	}

}

function getRandomColor() {
	
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
	
}
