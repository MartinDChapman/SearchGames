var graphNodes = "[(v6 : v32) 1.6070376960091515, (v84 : v78) 9.88142903148171, (v1 : v8) 1.3176648766724297, (v45 : v57) 9.48865132140168, (v94 : v0) 4.753978698749192, (v26 : v45) 0.06909104894803009, (v24 : v14) 0.7717300233928059, (v53 : v76) 2.516916522441929, (v24 : v99) 8.765302503687796, (v62 : v75) 2.5798229671567743, (v41 : v48) 8.963593626903135, (v72 : v76) 3.8171928397796195, (v78 : v7) 1.4533017792379865, (v76 : v84) 5.030666981623092, (v83 : v94) 7.617746222784455, (v72 : v44) 6.028234058687683, (v15 : v67) 8.837223751799069, (v48 : v25) 1.3199802976295572, (v99 : v48) 6.502264047384134, (v78 : v37) 3.629143324697406, (v48 : v10) 8.247511548123418, (v78 : v29) 1.3052122832045698, (v65 : v48) 6.581082590924002, (v90 : v89) 0.621917846549116, (v14 : v5) 4.178164120052275, (v59 : v5) 4.213678252773488, (v73 : v40) 1.6005742796265676, (v64 : v59) 5.637325523767678, (v22 : v6) 7.324527427428816, (v59 : v19) 1.2358530915141186, (v30 : v35) 1.091694903055671, (v0 : v73) 9.527898178945598, (v65 : v91) 1.7848554613613754, (v66 : v72) 4.557348584115521, (v59 : v97) 2.4662231717406033, (v0 : v84) 8.72471223252408, (v75 : v30) 2.7574848325376333, (v17 : v75) 7.204881633545488, (v96 : v24) 2.39539158940012, (v92 : v70) 6.160022220756129, (v0 : v23) 7.231488280884555, (v39 : v35) 0.5131774558693891, (v73 : v61) 7.981462318184897, (v91 : v31) 0.3956974952107961, (v31 : v62) 3.1471864436480312, (v82 : v60) 3.763893492002085, (v36 : v14) 6.3675782433794526, (v37 : v20) 2.7478087652711136, (v0 : v58) 8.293912936661828, (v29 : v85) 3.6042942493644703, (v18 : v34) 7.378474984672836, (v4 : v82) 1.6605984389993023, (v51 : v34) 8.815943023013599, (v68 : v56) 9.222541164711725, (v13 : v87) 7.5444120033708515, (v20 : v35) 3.358460542548304, (v9 : v84) 8.613513248682029, (v74 : v55) 2.9381082587246965, (v90 : v71) 5.432944141749215, (v46 : v11) 7.892445499454242, (v19 : v70) 5.154370816421553, (v43 : v68) 4.8599704384858775, (v59 : v80) 7.5979218661469625, (v34 : v15) 0.0981986361495113, (v27 : v36) 4.252315624649264, (v54 : v18) 4.5718573592996545, (v31 : v66) 1.652369781641262, (v47 : v89) 5.695125686857279, (v25 : v28) 6.222702630834633, (v23 : v89) 2.4229982386281614, (v49 : v79) 7.981665332528854, (v21 : v14) 3.7819794296625755, (v73 : v21) 8.490896102913712, (v60 : v21) 7.934432618591325, (v65 : v35) 4.435700796635675, (v44 : v33) 8.321939705948898, (v40 : v5) 5.2081807442351105, (v83 : v97) 3.0750964640026144, (v95 : v90) 8.97347662384586, (v30 : v53) 2.860659906083911, (v57 : v61) 2.7206471542381383, (v24 : v28) 3.718537194231528, (v75 : v4) 3.680843754254004, (v54 : v87) 4.6836389943073495, (v79 : v9) 0.84008970817259, (v49 : v34) 3.460245907790357, (v8 : v59) 9.841873964001687, (v87 : v86) 6.894669262774483, (v85 : v25) 3.7819674624288746, (v45 : v52) 0.15724773558447924, (v76 : v69) 7.81660721646128, (v83 : v8) 9.485000735209834, (v33 : v17) 1.3639939953044, (v56 : v63) 7.04571680172392, (v9 : v44) 7.362685114548791, (v8 : v47) 3.3632542296864965, (v14 : v95) 0.5999388351826174, (v23 : v96) 7.099035217919206, (v1 : v30) 3.7356507182085705, (v20 : v12) 4.529005941619676, (v43 : v25) 0.1767417561798834, (v84 : v49) 1.4078473109910228, (v32 : v31) 2.412456943936887, (v39 : v63) 9.098355830056207, (v10 : v34) 5.469047728230746, (v21 : v69) 9.795310818023012, (v7 : v31) 0.6049941468179509, (v69 : v28) 3.7276832119987704, (v92 : v49) 9.723798370958677, (v38 : v11) 4.624873611870669, (v98 : v93) 6.8652081438317945, (v94 : v99) 0.1321847477427185, (v61 : v32) 7.83851992997505, (v57 : v59) 6.8145602422058635, (v62 : v92) 1.030654625853783, (v88 : v8) 6.858679007758067, (v90 : v93) 2.760471134820132, (v11 : v54) 6.440880867636559, (v55 : v33) 5.519089756083371, (v40 : v0) 6.247553263925631, (v4 : v80) 0.9498267092604396, (v50 : v58) 8.997124590480494, (v37 : v38) 5.552972679959087, (v42 : v89) 9.60661876667891, (v60 : v75) 2.5785877941784374, (v94 : v56) 2.364933279644865, (v94 : v92) 0.27951582698841015, (v0 : v29) 9.020030703823931, (v26 : v28) 4.177926875659205, (v10 : v96) 8.864696308768696, (v57 : v1) 8.949186216133214, (v56 : v19) 9.92832067069354, (v64 : v50) 6.30019198609418, (v33 : v91) 1.369448133298814, (v67 : v3) 6.325325350654372, (v67 : v68) 4.640980579666439, (v42 : v51) 6.427805960638829, (v27 : v92) 2.398586599285056, (v97 : v34) 9.319822219062452, (v46 : v43) 3.280923625642682, (v16 : v75) 7.839818223491076, (v23 : v90) 0.35187551757998814, (v46 : v97) 2.484540127789807, (v50 : v29) 5.3105455510123525, (v69 : v19) 8.437876894482102, (v17 : v3) 7.6008324684196005, (v52 : v30) 3.4354608961836766, (v9 : v21) 1.7519929850321037, (v49 : v14) 9.63690791394667, (v47 : v12) 1.0237454340891616, (v80 : v97) 0.5462787331518681, (v17 : v8) 5.489640251297301, (v80 : v23) 4.341802716779309, (v49 : v21) 6.752200750846052, (v25 : v1) 4.320439860412665, (v5 : v38) 4.630666991016366, (v31 : v73) 4.75992942719481, (v82 : v13) 7.391146283966544, (v94 : v42) 0.7353906964361112, (v99 : v38) 1.800016090046741, (v15 : v89) 5.340303981727683, (v18 : v44) 1.7811558735668753, (v80 : v70) 9.550060015257177, (v91 : v58) 0.45890590000973175, (v9 : v83) 3.483764667684116, (v80 : v63) 4.490696672151668, (v99 : v56) 3.0763731014957676, (v68 : v4) 7.861459346230787, (v70 : v20) 0.8345165369585128, (v62 : v39) 4.657851008301773, (v50 : v44) 1.2378524601019514, (v75 : v1) 3.101904009437643, (v42 : v64) 0.941925688870926, (v86 : v20) 1.5450717606380038, (v9 : v25) 6.873131846030528, (v35 : v98) 7.855185693626819, (v69 : v24) 4.872456451168441, (v25 : v10) 7.227206470204404, (v77 : v1) 1.189474562390811, (v52 : v79) 6.87673214096414, (v28 : v22) 4.955162389980633, (v84 : v83) 5.202149313932134, (v97 : v7) 3.03114954311459, (v56 : v10) 5.10249314421623, (v41 : v98) 8.260159780932074, (v79 : v81) 7.395137768028804, (v52 : v89) 7.199791310743401, (v54 : v10) 8.278268636040329, (v36 : v76) 5.638022671247488, (v9 : v1) 1.0218352527623065, (v76 : v82) 6.448623871325951, (v15 : v98) 4.447737668068751, (v90 : v78) 9.18905760275696, (v97 : v39) 1.0819951520734805, (v19 : v51) 8.969710468260775, (v16 : v85) 4.341482023266642, (v19 : v79) 0.8849328683951618, (v96 : v47) 3.8746325926475054, (v98 : v33) 8.20313798231767, (v23 : v41) 9.734691017049093, (v18 : v4) 7.7311482638109705, (v44 : v26) 1.8572774375537349, (v44 : v30) 4.619329204679266, (v23 : v4) 0.1791310875120644, (v28 : v53) 4.33735321135138, (v84 : v29) 0.41601678712145596, (v76 : v2) 9.760425207971144, (v68 : v33) 0.16534463827033608, (v46 : v52) 2.053529736074763, (v12 : v84) 2.6696835143521094, (v31 : v74) 1.2739576718888335, (v7 : v80) 0.7339405083940653, (v21 : v66) 4.933578139615706, (v89 : v53) 9.300678148473105, (v31 : v51) 3.9317913896056513, (v64 : v24) 1.8302250905874862, (v10 : v76) 6.703856188017726, (v91 : v88) 6.586562756175548, (v83 : v0) 5.699580852259803, (v70 : v88) 4.284317276521733, (v74 : v2) 9.642738528953764, (v27 : v63) 7.300695632396676, (v35 : v69) 9.806757294901661, (v27 : v91) 3.199276728922734, (v63 : v72) 5.818278603812027, (v33 : v92) 5.956827069516951, (v61 : v7) 3.4643209405445186, (v25 : v45) 7.742669407867168, (v12 : v9) 3.484571713029261, (v0 : v66) 1.99170392601152, (v62 : v35) 1.3874827313785953, (v24 : v34) 5.862381763581663, (v64 : v23) 6.603433340665761, (v10 : v12) 1.911387658094852, (v81 : v6) 7.602464345512681, (v29 : v16) 6.285390003999215, (v95 : v92) 3.4365203034548086, (v55 : v20) 4.171114772883629, (v46 : v25) 2.1515341515322772, (v10 : v58) 4.308574576939009, (v25 : v37) 0.9440422540859161, (v3 : v63) 8.615179615697913, (v4 : v14) 0.2576131133952664, (v1 : v0) 2.3535688490968742, (v63 : v12) 5.329722190100038, (v94 : v82) 5.672459019363178, (v3 : v98) 0.2695632444314544, (v80 : v34) 1.0330149657293675, (v67 : v54) 5.48768388580961, (v84 : v37) 9.184833474300275, (v59 : v36) 3.281526274906128, (v40 : v32) 1.5634936229009888, (v73 : v72) 5.335455779876048, (v39 : v17) 0.739906963108673, (v34 : v35) 1.704450783792224, (v85 : v75) 5.760784269373058, (v56 : v29) 3.0583018029059006, (v97 : v18) 2.686061961275046, (v22 : v49) 6.265211141433571, (v16 : v30) 5.566004038108617, (v30 : v48) 0.14359995010822968, (v78 : v82) 1.6270331155830953, (v77 : v94) 0.9184855370097122, (v87 : v78) 0.07656242155576698, (v42 : v90) 0.7500089122343789, (v48 : v34) 4.124817739810719, (v25 : v14) 2.9788286365607175, (v42 : v35) 4.393760608839684, (v69 : v42) 2.4346752334081345, (v90 : v28) 1.5838857161073983, (v53 : v91) 1.4151371990316186, (v18 : v90) 1.2492545793579746, (v13 : v89) 2.5527539132686563, (v68 : v47) 1.8462910569100321, (v80 : v28) 9.696974551152088, (v29 : v76) 3.335491880220951, (v91 : v26) 0.7470250396041578, (v29 : v37) 0.8964262896928699, (v17 : v57) 0.8419859284898135, (v54 : v40) 1.5406238025308694, (v77 : v26) 6.861409831058024, (v38 : v70) 9.255805084732845, (v85 : v38) 1.3858987965084513, (v22 : v42) 1.8762808571414191, (v47 : v65) 5.340701867019774, (v26 : v98) 4.142396680511336, (v28 : v11) 7.881372888898426, (v22 : v35) 1.7869968725928265, (v33 : v54) 1.7198472905625417, (v47 : v18) 0.27567348381998036, (v88 : v81) 4.229226555484131, (v20 : v2) 4.742953046613888, (v68 : v85) 4.1596196183390965, (v47 : v41) 9.327682802032388, (v78 : v89) 0.6553319136430047, (v74 : v99) 0.5431026300695663, (v94 : v41) 3.1515564229425417, (v67 : v91) 0.4520825188137667, (v50 : v79) 5.468741543423685, (v25 : v0) 7.593633035778698]"; 
 var hidden = new Array(); 
 var path = new Array(); 
hidden[0] = "[v88, v58, v0, v33, v68]"; 
path[0] = "[v94, v99, v74, v31, v91, v67, v68, v33, v17, v39, v35, v30, v48, v25, v43, v46, v52, v45, v26, v44, v50, v29, v84, v49, v34, v15, v98, v3, v63, v80, v97, v59, v19, v79, v9, v1, v77, v94, v92, v62, v75, v60, v82, v78, v87, v54, v40, v32, v6, v22, v42, v90, v23, v4, v14, v95, v90, v89, v13, v82, v76, v53, v28, v24, v64, v23, v96, v47, v18, v54, v11, v38, v85, v16, v30, v16, v30, v35, v20, v70, v88, v81, v79, v49, v21, v66, v0, v83, v8, v17, v57, v61, v7, v78, v37, v25, v10, v12, v20, v86, v87, v86, v20, v55, v33, v54, v10, v58]"; 
hidden[1] = "[v74, v2, v20, v86, v54]"; 
path[1] = "[v45, v26, v91, v31, v7, v80, v97, v39, v35, v30, v48, v25, v43, v46, v52, v79, v9, v1, v77, v94, v99, v74, v55, v20, v70, v88, v81, v6, v32, v40, v54, v33, v68, v47, v18, v90, v23, v4, v14, v95, v92, v62, v75, v60, v82, v78, v87, v86, v20, v37, v29, v84, v49, v34, v15, v98, v3, v67, v3, v17, v57, v61, v73, v72, v76, v53, v28, v24, v64, v42, v22, v35, v65, v48, v10, v12, v63, v56, v19, v59, v36, v27, v91, v58, v0, v66, v21, v69, v35, v34, v51, v19, v56, v19, v79, v50, v44, v30, v16, v85, v38, v11, v38, v5, v38, v99, v38, v5, v40, v5, v38, v11, v46, v43, v68, v85, v29, v85, v29, v0, v83, v8, v47, v96, v24, v34, v24, v96, v10, v58, v91, v58, v10, v12, v47, v89, v13, v87, v86, v20, v2]"; 
hidden[2] = "[v34, v64, v38, v80, v28]"; 
path[2] = "[v14, v4, v23, v90, v89, v78, v87, v54, v40, v32, v6, v22, v35, v39, v17, v57, v61, v7, v31, v91, v67, v68, v33, v55, v74, v99, v94, v92, v62, v75, v60, v82, v76, v53, v30, v48, v25, v43, v46, v52, v45, v26, v44, v50, v29, v84, v49, v34, v15, v98, v3, v63, v80, v97, v59, v19, v79, v9, v1, v77, v26, v28, v24, v64, v42, v69, v21, v66, v0, v83, v8, v47, v18, v34, v10, v12, v20, v70, v88, v81, v79, v19, v51, v31, v73, v72, v66, v31, v66, v72, v63, v56, v29, v37, v38]"; 
hidden[3] = "[v57, v59, v40, v84, v49]"; 
path[3] = "[v79, v9, v1, v77, v94, v99, v74, v31, v91, v67, v68, v33, v17, v39, v35, v30, v48, v25, v43, v46, v52, v45, v26, v44, v50, v29, v84, v49, v34, v15, v98, v3, v63, v80, v97, v59, v19, v70, v20, v86, v87, v78, v89, v90, v23, v4, v14, v95, v92, v62, v75, v60, v82, v76, v53, v28, v24, v64, v42, v22, v6, v32, v40, v54, v18, v47, v12, v10, v58, v0, v66, v72, v73, v61, v57]"; 
hidden[4] = "[v95, v21, v8, v79, v19]"; 
path[4] = "[v94, v99, v74, v31, v91, v67, v68, v33, v17, v39, v35, v30, v48, v25, v43, v46, v52, v45, v26, v44, v50, v29, v84, v49, v34, v15, v98, v3, v63, v80, v97, v59, v19, v79, v9, v1, v77, v1, v8, v47, v18, v90, v23, v4, v14, v95, v92, v62, v75, v60, v82, v78, v87, v54, v40, v32, v6, v22, v42, v64, v24, v96, v10, v12, v20, v70, v88, v81, v6, v22, v28, v69, v76, v53, v89, v13, v82, v78, v7, v61, v57, v17, v75, v85, v38, v11, v28, v24, v96, v47, v65, v48, v41, v47, v12, v84, v83, v0, v66, v72, v73, v21]"; 
hidden[5] = "[v70, v29, v85, v4, v18]"; 
path[5] = "[v11, v38, v85, v29, v84, v49, v34, v15, v98, v3, v67, v91, v31, v7, v80, v97, v39, v35, v30, v48, v25, v43, v46, v52, v45, v26, v44, v50, v79, v9, v1, v77, v94, v99, v74, v55, v20, v70, v88, v81, v6, v32, v40, v54, v33, v68, v47, v18, v90, v23, v4]"; 
hidden[6] = "[v29, v37, v90, v42, v94]"; 
path[6] = "[v46, v52, v45, v26, v91, v31, v7, v80, v97, v39, v35, v30, v48, v25, v43, v68, v33, v17, v57, v61, v32, v40, v54, v18, v47, v12, v10, v58, v0, v66, v72, v76, v53, v28, v90, v23, v4, v14, v95, v92, v94, v99, v74, v55, v20, v70, v88, v81, v79, v9, v1, v77, v94, v42, v64, v24, v96, v47, v8, v83, v84, v29, v37]"; 
hidden[7] = "[v14, v27, v91, v67, v68]"; 
path[7] = "[v25, v43, v46, v52, v45, v26, v91, v31, v7, v80, v97, v39, v35, v30, v48, v34, v15, v98, v3, v67, v68, v33, v17, v57, v61, v32, v40, v54, v18, v47, v12, v10, v58, v0, v66, v72, v76, v53, v28, v90, v23, v4, v14, v95, v92, v94, v99, v74, v55, v20, v70, v88, v81, v79, v9, v1, v77, v1, v8, v83, v84, v29, v37, v78, v87, v86, v20, v2, v74, v31, v62, v75, v60, v82, v13, v89, v42, v64, v24, v96, v24, v69, v19, v59, v36, v27]"; 
hidden[8] = "[v99, v10, v48, v41, v98]"; 
path[8] = "[v59, v19, v79, v9, v1, v77, v94, v99, v74, v31, v91, v67, v68, v33, v17, v39, v35, v30, v48, v25, v43, v46, v52, v45, v26, v44, v50, v29, v84, v49, v34, v15, v98, v3, v63, v80, v97, v18, v47, v12, v10, v58, v0, v66, v72, v76, v53, v28, v90, v23, v4, v14, v95, v92, v62, v75, v60, v82, v78, v87, v54, v40, v32, v6, v22, v42, v64, v24, v96, v24, v69, v21, v73, v61, v57, v45, v52, v89, v13, v82, v78, v7, v78, v37, v20, v70, v88, v81, v79, v52, v30, v16, v85, v38, v11, v46, v97, v83, v8, v17, v33, v55, v20, v86, v20, v2, v20, v12, v47, v65, v47, v41]"; 
hidden[9] = "[v50, v76, v35, v30, v85]"; 
path[9] = "[v55, v74, v99, v94, v92, v62, v35, v39, v17, v57, v61, v7, v31, v91, v67, v68, v33, v54, v40, v32, v6, v22, v42, v90, v23, v4, v14, v95, v14, v24, v64, v59, v19, v79, v9, v1, v77, v26, v45, v52, v46, v25, v43, v68, v47, v18, v44, v50, v29, v84, v49, v34, v15, v98, v3, v63, v80, v97, v83, v0, v66, v72, v76, v53, v30, v48, v65, v35, v20, v70, v88, v81, v88, v8, v88, v91, v58, v10, v12, v84, v37, v78, v87, v86, v87, v13, v89, v42, v69, v28, v11, v38, v85]"; 
var step, play;

function showGraph() {
    
	var width = $(document).width();
	
    var height = $(document).height() - 100;

    var g = new Graph();
	
	var graph = graphNodes.split(",");
	
	var hiddenItems = hidden[$('#round-to-play').val()].substring(0, hidden[$('#round-to-play').val()].length - 1).split(",");
	
	for (var k = 0; k < hiddenItems.length; k++) {
		
		hiddenItems[k] = hiddenItems[k].substring(1, hiddenItems[k].length);
		
		g.addNode(hiddenItems[k], { label : hiddenItems[k] + " HIDE" });
	
		$('#hidden').append(hiddenItems[k] + " ");
	
	}
	
	for (var i = 0; i < graph.length; i++) {
		
		g.addEdge(graph[i].substring(graph[i].indexOf("(") + 1, graph[i].indexOf(":") - 1), graph[i].substring(graph[i].indexOf(":") + 2, graph[i].indexOf(")")));
		 
	}
	
	var layouter = new Graph.Layout.Spring(g);
	
	var searchPath = path[$('#round-to-play').val()].substring(0, path[$('#round-to-play').val()].length - 1).split(",");
	
	var renderer = new Graph.Renderer.Raphael('canvas', g, width, height);
	
	step = function() {
		
		drawPath(hiddenItems, searchPath, g, renderer);
		
		searchPath.splice(0,1);
		
	}
	
	play = function() {
		
		setInterval(function(){step()},1000);
		
	}
		
	step();
	
};

function drawPath(hiddenItems, searchPath, g, renderer) {
	
	
	for (var j = 1; j < searchPath.length; j++) {
		
	
		 /* colourising the shortest paths and setting labels */
		for(e in g.edges) {
			
			if((searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].source.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].target.id) ||
			   (searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].target.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].source.id)) {
			
				$('#output').html(searchPath[j-1].substring(1,searchPath[j-1].length) + " to " + searchPath[j].substring(1,searchPath[j].length));
				
				for (var l = 0; l < hiddenItems.length; l++) {
				
					if ( hiddenItems[l] == g.edges[e].source.id || hiddenItems[l] == g.edges[e].target.id ) {
						
						//alert(hiddenItems[l] + " " + g.edges[e].source.id);
						//alert(hiddenItems[l] + " " + g.edges[e].target.id);
						hiddenItems.splice(l, 1);
						$('#hidden').html("Hidden Items: ");
						
						for (var o = 0; o < hiddenItems.length; o++) {
		
							//alert(hiddenItems);
							
							$('#hidden').append(hiddenItems[o] + " ");
						
						}
	
					}
					
				}
				
				g.edges[e].style.stroke = "#00c8a1";
				g.edges[e].style.fill = "#00c8a1";
				
				renderer.draw();
				return;
				
			} else {
				
				g.edges[e].style.stroke = "#fff";
			
			}
			
		}
		
	}

}

function getRandomColor() {
	
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
	
}
