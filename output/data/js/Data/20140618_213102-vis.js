var graphNodes = "[(v71 : v1) 3.139996578072801, (v77 : v63) 0.5710925552685464, (v29 : v43) 3.168049716815368, (v29 : v68) 1.1340006137489822, (v42 : v10) 0.28956847042120426, (v39 : v19) 9.351343748203597, (v42 : v32) 5.342119792203176, (v62 : v73) 0.7324030178945928, (v86 : v60) 4.993669660454506, (v47 : v31) 9.916722865605406, (v35 : v13) 4.716506934768994, (v55 : v45) 8.11593249101959, (v17 : v1) 4.272009296231138, (v39 : v52) 7.884445950276568, (v80 : v79) 8.088530387967833, (v79 : v92) 8.997440599347705, (v7 : v66) 4.9758847002714415, (v43 : v77) 2.3001862144122107, (v12 : v10) 4.931712918244733, (v19 : v7) 4.35506117743949, (v84 : v11) 0.21094150181528937, (v10 : v40) 9.170563376219427, (v50 : v24) 3.3593710193187376, (v36 : v94) 0.275741462272574, (v56 : v71) 4.22216456936879, (v2 : v54) 6.835321695550059, (v59 : v71) 8.84990329228019, (v82 : v28) 7.723327263351515, (v77 : v16) 6.217474535759793, (v96 : v66) 2.730277606551171, (v54 : v35) 9.379100427914066, (v16 : v13) 7.021548308759156, (v45 : v69) 9.397329515326017, (v69 : v18) 4.148766638764095, (v5 : v88) 6.552069765421802, (v53 : v95) 1.3051369029592186, (v57 : v55) 0.061238785670644225, (v62 : v74) 3.978458262793324, (v53 : v99) 6.087126690955726, (v29 : v83) 2.9677059000465897, (v40 : v64) 3.0781191663207332, (v40 : v7) 6.072043694189597, (v54 : v42) 2.576277564926749, (v71 : v78) 7.222902689390231, (v62 : v57) 4.235930853908121, (v15 : v85) 3.9044486525692603, (v94 : v7) 2.831680289016265, (v6 : v37) 7.295744856258723, (v27 : v4) 7.027053330947465, (v66 : v20) 0.47585974059863423, (v36 : v97) 9.324733645355346, (v2 : v1) 6.4739360805015025, (v22 : v70) 1.2793759367519741, (v16 : v12) 7.038993337387614, (v99 : v10) 0.2342184396835323, (v62 : v36) 3.2743494760409755, (v49 : v66) 3.7090869899104972, (v78 : v6) 3.1606799910843106, (v41 : v77) 5.442168117584945, (v81 : v67) 7.31775636031149, (v41 : v78) 5.94967054565261, (v19 : v18) 0.8719733251132222, (v78 : v27) 8.450924876314149, (v88 : v38) 5.155272120918472, (v3 : v24) 3.9026289208543097, (v98 : v21) 1.2176378759118411, (v25 : v38) 2.6420919785757135, (v57 : v73) 7.252875644767579, (v71 : v84) 3.3589654192093112, (v28 : v18) 2.3850071758012827, (v42 : v3) 6.557866010184209, (v91 : v64) 9.615755852378532, (v79 : v72) 0.7564815139191683, (v6 : v62) 4.77384534283215, (v95 : v36) 6.957493812436763, (v35 : v67) 6.122124842227988, (v9 : v10) 4.6664523860713345, (v29 : v30) 9.862985585543365, (v56 : v82) 0.28636758082244973, (v17 : v22) 0.5365289840845511, (v33 : v10) 3.1442656313499495, (v93 : v27) 6.536163633046639, (v7 : v45) 2.892536233442986, (v8 : v95) 0.3855822380348406, (v26 : v75) 4.432119125222299, (v48 : v25) 0.6485957253441954, (v53 : v66) 7.835173552378192, (v96 : v95) 8.404432268648879, (v70 : v36) 3.667894401739229, (v14 : v4) 1.0475010357639314, (v13 : v92) 1.4518172002426777, (v4 : v24) 1.1001658137615178, (v20 : v44) 6.232831933059179, (v12 : v73) 8.003904315288132, (v2 : v82) 5.9859484550828554, (v78 : v76) 8.128743647970428, (v98 : v33) 9.161656747494714, (v91 : v61) 8.06969432677599, (v7 : v14) 5.52375615234245, (v63 : v45) 0.644954770307099, (v91 : v24) 5.642311114278584, (v95 : v92) 2.7430571266246107, (v52 : v85) 1.2486890274766727, (v50 : v6) 1.560261361070432, (v91 : v52) 4.048474014571387, (v55 : v11) 7.007042107627947, (v52 : v87) 8.594669278545622, (v76 : v19) 5.731301141903591, (v43 : v19) 2.176558286417775, (v25 : v62) 7.800159645200507, (v90 : v7) 3.263603750756192, (v90 : v9) 3.502207730728879, (v63 : v82) 9.399891322622299, (v63 : v66) 1.784549358512233, (v66 : v97) 5.270095731075771, (v88 : v30) 6.736790935238448, (v28 : v33) 4.30630401485919, (v46 : v43) 6.396400835699639, (v15 : v2) 0.18602575838517765, (v17 : v34) 2.502018073639518, (v50 : v0) 3.051367824172261, (v35 : v71) 8.094945833525939, (v23 : v91) 4.579936487358402, (v30 : v80) 5.902124993983849, (v16 : v50) 4.1380306723034055, (v62 : v37) 6.970483175495446, (v88 : v46) 8.280919425958029, (v30 : v5) 0.2130745966943759, (v44 : v70) 8.624426373381283, (v85 : v30) 7.428541560229674, (v67 : v39) 9.543970876942076, (v9 : v71) 9.429973584011393, (v30 : v36) 0.8651390140250759, (v16 : v83) 0.5364185878970651, (v68 : v11) 0.45354590094090486, (v51 : v26) 5.615449053563434, (v54 : v19) 3.807226420472949, (v68 : v96) 4.799982891710739, (v91 : v15) 8.97430971881715, (v19 : v66) 1.0248727389153034, (v36 : v18) 4.590818652829021, (v85 : v22) 8.632759329553512, (v83 : v66) 0.9428461636461394, (v78 : v83) 2.8847184200229448, (v93 : v78) 0.7451227930629956, (v57 : v1) 9.58596842428115, (v58 : v30) 9.99135135321215, (v74 : v7) 6.913222694116313, (v41 : v46) 4.624185039062333, (v65 : v79) 2.5273169797910953, (v93 : v79) 5.904108145663837, (v45 : v31) 4.197912221297438, (v61 : v46) 3.892770976713603, (v39 : v12) 1.3879918797978363, (v82 : v30) 2.229798395538851, (v87 : v35) 4.882451755303534, (v73 : v80) 8.851244992244832, (v27 : v59) 6.841441045340342, (v81 : v71) 2.1074774656817197, (v62 : v5) 1.265657334490795, (v4 : v15) 3.179343865628632, (v96 : v13) 5.334168956055572, (v77 : v15) 7.211303657234471, (v53 : v58) 2.3784074941084254, (v77 : v81) 3.282254358249179, (v94 : v68) 3.2579135319772092, (v97 : v10) 8.478875850225498, (v33 : v17) 1.8795815070746935, (v67 : v25) 2.838421564390834, (v40 : v71) 3.734215765780559, (v1 : v33) 8.86030268864299, (v14 : v9) 1.2000370521462334, (v4 : v7) 3.377030062110445, (v19 : v22) 2.476525408599448, (v84 : v8) 7.709889555965676, (v32 : v81) 0.264037465702045, (v75 : v70) 8.754115262848526, (v10 : v86) 3.501638922413327, (v88 : v1) 3.6395971418530904, (v82 : v53) 8.83042224611511, (v28 : v98) 1.2497779697280398, (v19 : v25) 5.081395115058985, (v31 : v77) 7.663188955396629, (v60 : v66) 2.5212122090750047, (v5 : v78) 9.674990415837245, (v58 : v63) 1.2571999013198343, (v48 : v24) 1.2822525926166162, (v76 : v93) 8.943226859245746, (v6 : v32) 5.355000095138493, (v12 : v4) 4.484094219707298, (v91 : v80) 4.800044508260283, (v83 : v88) 0.9586809004436037, (v43 : v45) 0.14734883423358047, (v24 : v0) 0.5277142561600712, (v54 : v4) 9.596372113538617, (v49 : v27) 6.123624121471698, (v0 : v89) 1.7560444292671906, (v19 : v35) 7.606638962364367, (v52 : v30) 4.356498119851878, (v78 : v51) 3.5884706240168054, (v16 : v42) 5.519435291555721, (v90 : v30) 7.9542545030349725, (v96 : v77) 9.319307375017711, (v28 : v14) 2.3427622851539076, (v56 : v85) 8.577856680006551, (v72 : v44) 1.4684153963713809, (v44 : v99) 4.494755630120764, (v76 : v17) 7.586695283507203, (v15 : v84) 1.8681277310672528, (v18 : v13) 7.923810770135792, (v52 : v56) 7.4978719188891185, (v56 : v16) 5.224833840037962, (v66 : v88) 7.7455011483365075, (v73 : v58) 6.3410951518042316, (v85 : v60) 4.156361148337279, (v58 : v23) 8.002824001364726, (v96 : v18) 6.199676752104586, (v16 : v72) 7.538478100022576, (v78 : v21) 0.3711171146503933, (v22 : v35) 0.6458093290156663, (v17 : v38) 0.6100090617592901, (v87 : v65) 8.635608266909285, (v99 : v32) 6.843715475465764, (v56 : v86) 5.507646308577313, (v14 : v89) 4.776054727183226, (v28 : v95) 6.336230686237768, (v22 : v25) 9.232234623658336, (v9 : v19) 4.702898998689494, (v45 : v92) 6.563118684037937, (v51 : v55) 9.18523361161134, (v61 : v87) 5.05650238375279, (v95 : v51) 9.468994918972037, (v78 : v67) 9.918477620900061, (v18 : v61) 7.677344108271962, (v78 : v32) 5.246147296787434, (v44 : v1) 2.593803171805653, (v85 : v41) 6.2424700673647, (v76 : v98) 5.088870146405596, (v17 : v62) 2.609585368199707, (v42 : v35) 5.14429213460942, (v95 : v80) 8.139662767913318, (v36 : v14) 1.210530838476831, (v76 : v80) 1.6993506173047612, (v46 : v51) 4.444818077327238, (v71 : v58) 3.4288161582455547, (v56 : v83) 5.778551403128716, (v80 : v61) 4.558934094574423, (v78 : v44) 6.278977323443163, (v57 : v40) 4.956384712441873, (v98 : v41) 8.33284926537839, (v29 : v28) 4.658567434015573, (v94 : v62) 0.6268539273938645, (v11 : v34) 2.236812601686359, (v89 : v57) 6.475265760368522, (v36 : v32) 6.962148895578565, (v72 : v17) 6.899882037378697, (v11 : v90) 4.233889013804314, (v9 : v87) 5.0574509854449845, (v0 : v4) 5.514780108091265, (v55 : v48) 1.5984308593521945, (v58 : v72) 8.70095041365843, (v41 : v34) 4.697143931431949, (v42 : v95) 1.2001400811333551, (v25 : v73) 8.59261445873368, (v49 : v47) 2.4137331984909984, (v50 : v35) 9.203225788199255, (v54 : v14) 1.3891990188378434, (v77 : v74) 9.814716908178486, (v60 : v36) 8.358190513667857, (v59 : v61) 7.984078994345616, (v9 : v46) 0.08652750867391257, (v1 : v14) 2.05201430431004, (v40 : v33) 0.4766087283192222, (v13 : v89) 1.3204091612343483, (v28 : v99) 1.8777343085313924, (v70 : v66) 3.741666251402831, (v49 : v82) 3.9288677891791792, (v44 : v66) 3.5028380721286467, (v18 : v64) 5.491323065373973, (v32 : v35) 4.194740992667776, (v42 : v76) 8.991713835716993, (v14 : v58) 1.266214943773224, (v37 : v32) 3.110528992014813, (v34 : v33) 6.514324201536198, (v2 : v56) 9.697420777991304, (v38 : v97) 2.6967292791785735, (v45 : v11) 9.705457410371427, (v30 : v43) 4.623060152617812, (v20 : v26) 4.104235044493253, (v87 : v46) 4.844554155535229, (v6 : v5) 2.60311934260685, (v89 : v51) 4.278357709650553, (v9 : v30) 1.6945168009846945, (v12 : v13) 6.643888480933768, (v89 : v20) 5.2727137034224665, (v63 : v75) 7.728886137623531, (v70 : v61) 4.812502086239416, (v26 : v37) 7.4239034491126885, (v16 : v59) 0.8757835857441199, (v75 : v37) 1.7538785256654588]"; 
 var hidden = new Array(); 
 var path = new Array(); 
hidden[0] = "[v62, v4, v54, v73, v80]"; 
path[0] = "[v23, v91, v52, v85, v15, v2, v82, v56, v71, v81, v32, v37, v75, v26, v20, v66, v83, v16, v59, v27, v49, v47, v31, v45, v43, v19, v18, v28, v98, v21, v78, v93, v79, v72, v44, v1, v14, v4, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v30, v5, v62, v94, v36, v70, v22, v17, v38, v25, v48, v55, v57, v40, v33, v10, v99, v53, v58, v63, v77, v41, v46, v9, v90, v7, v74, v62, v73, v12, v39, v67, v35, v87, v61, v80, v76, v42, v54]"; 
hidden[1] = "[v4, v1, v33, v62, v95]"; 
path[1] = "[v59, v16, v83, v66, v20, v26, v75, v37, v32, v81, v71, v1, v14, v4, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v43, v45, v63, v77, v41, v46, v9, v30, v5, v62, v94, v36, v70, v22, v17, v38, v25, v48, v55, v57, v40, v33]"; 
hidden[2] = "[v83, v68, v48, v25, v19]"; 
path[2] = "[v67, v25, v48, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v83, v16, v59, v27, v49, v47, v31, v45, v43, v19]"; 
hidden[3] = "[v43, v45, v18, v97, v66]"; 
path[3] = "[v27, v49, v47, v31, v45, v43, v19, v18, v28, v98, v21, v78, v93, v79, v72, v44, v1, v14, v4, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v83, v16, v59, v61, v46, v9, v30, v5, v62, v94, v36, v70, v22, v17, v38, v25, v48, v55, v57, v40, v33, v10, v99, v53, v58, v63, v77, v81, v32, v37, v75, v26, v20, v66, v60, v85, v52, v91, v23, v91, v80, v76, v42, v54, v2, v15, v77, v41, v34, v41, v34, v11, v90, v7, v74, v62, v73, v12, v39, v67, v35, v87, v65, v87, v46, v51, v89, v13, v96, v66, v97]"; 
hidden[4] = "[v57, v90, v30, v10, v86]"; 
path[4] = "[v45, v43, v19, v18, v28, v98, v21, v78, v93, v79, v72, v44, v1, v14, v4, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v83, v16, v59, v27, v49, v47, v31, v77, v63, v58, v53, v99, v10, v42, v54, v2, v15, v85, v52, v91, v23, v91, v80, v76, v17, v22, v35, v32, v81, v71, v40, v33, v34, v41, v46, v9, v30, v5, v62, v94, v36, v70, v66, v20, v26, v75, v37, v6, v50, v16, v56, v82, v49, v82, v53, v82, v2, v54, v4, v7, v90, v7, v74, v62, v73, v57, v55, v48, v25, v38, v97, v10, v86]"; 
hidden[5] = "[v90, v11, v84, v14, v44]"; 
path[5] = "[v48, v25, v38, v17, v22, v35, v32, v81, v71, v1, v14, v4, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v83, v16, v59, v27, v49, v47, v31, v45, v43, v19, v18, v28, v98, v21, v78, v93, v79, v72, v44, v66, v20, v26, v75, v37, v62, v94, v36, v30, v5, v6, v50, v0, v89, v51, v46, v9, v90]"; 
hidden[6] = "[v90, v11, v55, v57, v62]"; 
path[6] = "[v25, v48, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v83, v16, v59, v27, v49, v47, v31, v45, v43, v19, v18, v28, v98, v21, v78, v93, v79, v72, v44, v1, v14, v4, v15, v2, v82, v56, v71, v81, v32, v37, v75, v26, v20, v66, v63, v77, v41, v46, v9, v30, v5, v62, v94, v36, v70, v22, v17, v38, v97, v10, v99, v53, v58, v73, v57, v55, v51, v46, v61, v80, v76, v42, v54, v35, v87, v52, v85, v60, v86, v56, v82, v56, v2, v56, v82, v63, v77, v96, v18, v69, v18, v64, v40, v33, v34, v11, v90]"; 
hidden[7] = "[v30, v83, v72, v79, v65]"; 
path[7] = "[v94, v36, v30, v5, v62, v73, v58, v63, v77, v43, v45, v7, v90, v9, v46, v61, v80, v76, v98, v21, v78, v93, v79, v72, v44, v1, v14, v4, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v83, v16, v59, v27, v49, v47, v31, v77, v81, v32, v37, v75, v26, v20, v66, v19, v18, v28, v99, v10, v42, v54, v2, v15, v85, v52, v91, v23, v91, v64, v40, v33, v17, v22, v35, v87, v65]"; 
hidden[8] = "[v34, v33, v22, v35, v23]"; 
path[8] = "[v54, v14, v4, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v83, v16, v59, v27, v49, v47, v31, v45, v43, v19, v18, v28, v98, v21, v78, v93, v79, v72, v44, v1, v71, v81, v32, v37, v75, v26, v20, v66, v63, v77, v41, v46, v9, v30, v5, v62, v94, v36, v70, v22, v17, v38, v25, v48, v55, v57, v40, v33, v10, v99, v53, v58, v73, v12, v39, v52, v85, v15, v2, v82, v56, v86, v60, v66, v96, v18, v69, v18, v64, v91, v23, v91, v80, v76, v42, v35, v87, v61, v91, v61, v46, v51, v46, v88, v38, v97, v36, v70, v75, v37, v6, v50, v6, v50, v16, v56, v2, v54, v14, v7, v90, v30, v82, v49, v47, v31, v77, v74, v77, v74, v62, v36, v95, v28, v33, v34]"; 
hidden[9] = "[v52, v9, v90, v30, v56]"; 
path[9] = "[v97, v38, v17, v22, v35, v32, v81, v71, v1, v14, v4, v24, v0, v89, v13, v92, v95, v8, v84, v11, v68, v29, v83, v16, v59, v27, v49, v47, v31, v45, v43, v19, v18, v28, v98, v21, v78, v93, v79, v72, v44, v66, v20, v26, v75, v37, v62, v94, v36, v30, v5, v6, v50, v35, v87, v46, v9, v90, v7, v40, v33, v10, v99, v53, v58, v63, v77, v41, v34, v41, v85, v52, v91, v23, v91, v80, v76, v42, v54, v2, v15, v85, v60, v86, v56]"; 
var step, play;

function showGraph() {
    
	var width = $(document).width();
	
    var height = $(document).height() - 100;

    var g = new Graph();
	
	var graph = graphNodes.split(",");
	
	var hiddenItems = hidden[$('#round-to-play').val()].substring(0, hidden[$('#round-to-play').val()].length - 1).split(",");
	
	for (var k = 0; k < hiddenItems.length; k++) {
		
		hiddenItems[k] = hiddenItems[k].substring(1, hiddenItems[k].length);
		
		g.addNode(hiddenItems[k], { label : hiddenItems[k] + " HIDE" });
	
		$('#hidden').append(hiddenItems[k] + " ");
	
	}
	
	for (var i = 0; i < graph.length; i++) {
		
		g.addEdge(graph[i].substring(graph[i].indexOf("(") + 1, graph[i].indexOf(":") - 1), graph[i].substring(graph[i].indexOf(":") + 2, graph[i].indexOf(")")));
		 
	}
	
	var layouter = new Graph.Layout.Spring(g);
	
	var searchPath = path[$('#round-to-play').val()].substring(0, path[$('#round-to-play').val()].length - 1).split(",");
	
	var renderer = new Graph.Renderer.Raphael('canvas', g, width, height);
	
	step = function() {
		
		drawPath(hiddenItems, searchPath, g, renderer);
		
		searchPath.splice(0,1);
		
	}
	
	play = function() {
		
		setInterval(function(){step()},1000);
		
	}
		
	step();
	
};

function drawPath(hiddenItems, searchPath, g, renderer) {
	
	
	for (var j = 1; j < searchPath.length; j++) {
		
	
		 /* colourising the shortest paths and setting labels */
		for(e in g.edges) {
			
			if((searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].source.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].target.id) ||
			   (searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].target.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].source.id)) {
			
				$('#output').html(searchPath[j-1].substring(1,searchPath[j-1].length) + " to " + searchPath[j].substring(1,searchPath[j].length));
				
				for (var l = 0; l < hiddenItems.length; l++) {
				
					if ( hiddenItems[l] == g.edges[e].source.id || hiddenItems[l] == g.edges[e].target.id ) {
						
						//alert(hiddenItems[l] + " " + g.edges[e].source.id);
						//alert(hiddenItems[l] + " " + g.edges[e].target.id);
						hiddenItems.splice(l, 1);
						$('#hidden').html("Hidden Items: ");
						
						for (var o = 0; o < hiddenItems.length; o++) {
		
							//alert(hiddenItems);
							
							$('#hidden').append(hiddenItems[o] + " ");
						
						}
	
					}
					
				}
				
				g.edges[e].style.stroke = "#00c8a1";
				g.edges[e].style.fill = "#00c8a1";
				
				renderer.draw();
				return;
				
			} else {
				
				g.edges[e].style.stroke = "#fff";
			
			}
			
		}
		
	}

}

function getRandomColor() {
	
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
	
}
