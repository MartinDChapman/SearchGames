var graphNodes = "[(v19 : v4) 17.656580164816617, (v44 : v80) 55.078090316849085, (v30 : v38) 77.5422460005046, (v84 : v72) 46.90744183663171, (v22 : v57) 10.113290786380935, (v14 : v6) 37.78492257267967, (v97 : v83) 62.33960297947666, (v42 : v24) 95.78412945110611, (v4 : v73) 29.066471649458915, (v26 : v19) 38.07416636008982, (v96 : v9) 61.20268420092319, (v20 : v42) 71.57055107357834, (v37 : v52) 30.66378997343646, (v69 : v3) 45.40638173687028, (v32 : v15) 30.67844169305841, (v41 : v37) 55.44919091259142, (v43 : v73) 62.24027285450294, (v19 : v22) 86.00814730023339, (v38 : v66) 67.16827639142089, (v24 : v65) 72.56127999429755, (v72 : v96) 63.96045708864666, (v20 : v68) 67.97481813634612, (v19 : v75) 24.48631810018902, (v86 : v56) 53.54024453099744, (v21 : v88) 74.2234703036981, (v2 : v6) 54.535731155313705, (v80 : v63) 84.42528341630005, (v44 : v6) 61.30634044757299, (v73 : v53) 56.094801194637554, (v87 : v75) 73.49277948168887, (v64 : v29) 29.283207906582977, (v39 : v89) 43.52589467300327, (v44 : v31) 19.938737908334648, (v60 : v11) 1.4095911612610923, (v19 : v87) 24.776913175494986, (v73 : v85) 65.7675078381259, (v61 : v53) 3.4605715455965913, (v18 : v83) 44.81999500631263, (v39 : v13) 59.36579050345377, (v70 : v45) 78.14148381827903, (v86 : v94) 84.52781045032476, (v14 : v56) 77.5408725308235, (v6 : v72) 1.7321175842562653, (v5 : v26) 69.08764061055082, (v37 : v58) 44.4248557696851, (v4 : v8) 83.11585876263997, (v66 : v18) 32.011779342912725, (v27 : v76) 63.98055265227873, (v79 : v49) 69.60569174318127, (v38 : v22) 94.48281229277084, (v45 : v79) 74.34190061950103, (v87 : v85) 33.35024094517356, (v41 : v36) 78.5443211460812, (v82 : v6) 19.14934145834475, (v97 : v33) 8.389611537674169, (v90 : v44) 85.77013775034365, (v75 : v69) 86.94284978774974, (v81 : v55) 87.47709657684275, (v93 : v52) 65.74875447255907, (v23 : v74) 33.84316032108161, (v28 : v87) 79.34225073471491, (v54 : v17) 64.11695059979272, (v28 : v9) 23.439055031474687, (v24 : v56) 38.2205472024759, (v63 : v71) 38.09101286905884, (v19 : v79) 18.20358349347453, (v90 : v92) 91.21487398312794, (v5 : v95) 54.21708526654583, (v49 : v67) 91.66202201893783, (v71 : v61) 56.609388884662756, (v92 : v27) 51.9884053079678, (v78 : v15) 28.34021019718833, (v14 : v55) 83.4682032649251, (v97 : v12) 86.37404397172249, (v21 : v13) 55.394729866322045, (v60 : v29) 17.9294121674901, (v99 : v52) 29.612585196815644, (v91 : v98) 87.36749708326735, (v97 : v1) 83.37387692315946, (v93 : v85) 36.10623867861644, (v12 : v32) 29.418603886225558, (v45 : v25) 44.310480904139524, (v44 : v87) 3.617674004428606, (v46 : v21) 56.36415464986617, (v2 : v35) 16.121640190291686, (v15 : v96) 8.468146996774117, (v9 : v85) 1.8268029695591603, (v72 : v53) 46.38133956360745, (v72 : v74) 86.76292357673917, (v7 : v75) 33.64873633149339, (v46 : v27) 36.946167001010366, (v64 : v14) 39.0185125231584, (v3 : v52) 30.1120911145938, (v64 : v43) 58.580686378066446, (v72 : v35) 94.89430512658262, (v80 : v23) 89.96767912512762, (v66 : v47) 79.35486011776021, (v8 : v65) 88.30793136985885, (v12 : v27) 25.77527221170368, (v42 : v22) 16.146689921520775, (v42 : v64) 52.31741692742992, (v15 : v7) 60.93455893513563, (v40 : v4) 37.15901983823255, (v39 : v78) 56.68833430341248, (v73 : v77) 6.159287177307505, (v42 : v98) 72.8664299865248, (v2 : v95) 81.73902954615146, (v51 : v61) 49.25164154866105, (v2 : v15) 25.751589899466566, (v39 : v24) 75.63873632047118, (v14 : v85) 21.523527626374197, (v39 : v95) 68.38696756892998, (v62 : v74) 85.36779330639754, (v98 : v81) 50.484894424047525, (v12 : v63) 72.68934356966497, (v93 : v41) 29.81532348710364, (v10 : v21) 71.84914560790708, (v36 : v3) 12.993584481283937, (v26 : v62) 35.32509119719995, (v74 : v0) 24.73632955120064, (v96 : v42) 34.06721635853995, (v46 : v20) 99.51711369313601, (v80 : v59) 90.51299398364779, (v58 : v78) 11.658102891029841, (v91 : v55) 28.29106217169587, (v52 : v51) 39.4357781772286, (v6 : v39) 3.54637393611551, (v12 : v61) 59.74622531248689, (v65 : v38) 61.976751516033865, (v72 : v91) 22.94916771829455, (v22 : v4) 6.552436540988138, (v84 : v94) 7.317946981752743, (v44 : v61) 99.53204423452691, (v63 : v50) 32.75690615702791, (v7 : v58) 46.387693039635835, (v62 : v30) 71.86157753765966, (v40 : v5) 82.76932174776512, (v52 : v43) 19.807618242662983, (v22 : v10) 74.39594361586634, (v30 : v68) 23.840009157180507, (v33 : v11) 36.044850787730944, (v6 : v60) 68.23638154572333, (v53 : v46) 23.466488565278144, (v19 : v9) 15.541188991642008, (v3 : v42) 71.49277621609593, (v80 : v68) 12.677300251850898, (v0 : v10) 64.8027964426095, (v90 : v65) 38.36723337938328, (v35 : v42) 83.29728245578765, (v60 : v80) 42.329270876689975, (v50 : v52) 61.909617037278565, (v26 : v8) 67.20785614218929, (v97 : v76) 21.606574910166433, (v30 : v82) 50.46936106478049, (v79 : v97) 42.529086438678355, (v92 : v66) 38.92261625830123, (v45 : v94) 66.47747702229185, (v16 : v85) 65.54970176868221, (v93 : v25) 90.60408904930077, (v10 : v98) 3.460437044463527, (v5 : v38) 80.14958537290245, (v33 : v86) 30.580161829527754, (v49 : v7) 19.819787707528448, (v26 : v45) 80.77374725065096, (v79 : v62) 1.9831042322038361, (v96 : v12) 81.19043660501588, (v15 : v53) 27.87186918771788, (v67 : v69) 54.43850526859427, (v31 : v12) 64.55459689992705, (v7 : v54) 9.581698257931448, (v43 : v53) 46.33271103555312, (v16 : v54) 33.770246275500035, (v5 : v71) 51.69010492292294, (v81 : v52) 91.51925209858577, (v15 : v36) 94.83438677390033, (v16 : v53) 20.230235434992462, (v86 : v43) 89.62518627330842, (v34 : v24) 96.5841054180696, (v65 : v10) 20.25996497100534, (v5 : v94) 21.044715440276796, (v44 : v59) 61.0166050080914, (v41 : v66) 98.09276201871405, (v2 : v73) 51.732366063336364, (v63 : v43) 63.214093279023295, (v3 : v67) 58.190579896418946, (v68 : v0) 48.410932475637225, (v52 : v17) 30.412555905789407, (v43 : v55) 74.46786813711054, (v2 : v27) 46.79760838847437, (v62 : v96) 87.82828794580001, (v3 : v48) 79.46660130321776, (v94 : v16) 14.225019768230085, (v37 : v13) 93.95409647394847, (v36 : v99) 10.727775300124742, (v95 : v76) 64.03374753261356, (v12 : v66) 57.24840079426308, (v32 : v55) 25.98611496004235, (v1 : v63) 21.474413094592272, (v62 : v6) 53.62529795230452, (v50 : v68) 55.43569038935353, (v75 : v80) 20.050833729797258, (v6 : v24) 74.26491035852177, (v85 : v55) 40.106801912639426, (v3 : v35) 29.06829065911465, (v40 : v66) 1.1962715188923112, (v4 : v92) 6.120841208389161, (v74 : v73) 83.26362558126901, (v93 : v12) 67.84348473910028, (v46 : v85) 11.83020491357607, (v54 : v96) 40.27453494878076, (v27 : v84) 52.922733701990325, (v43 : v70) 54.14410352391633, (v6 : v65) 44.10420396830791, (v64 : v77) 58.38819631004672, (v65 : v23) 11.70107768030081, (v47 : v56) 56.253795964678986, (v98 : v43) 77.37895059047767, (v44 : v25) 14.363268371636162, (v45 : v39) 35.673699027196314, (v61 : v33) 77.60496720362397, (v25 : v24) 42.72211553079514, (v48 : v79) 89.93835923506781, (v15 : v9) 1.6022935779276382, (v82 : v92) 89.65030997265121, (v48 : v15) 44.3002545620467, (v58 : v89) 72.84051387760726, (v67 : v89) 78.83763789195105, (v47 : v94) 20.577798402316006, (v39 : v33) 3.5613269375420975, (v34 : v32) 71.94601473061277, (v55 : v50) 51.606938442891945, (v14 : v1) 19.842862345431932, (v44 : v45) 56.26459760825144, (v54 : v55) 70.72330395028375, (v83 : v27) 63.1198132119419, (v17 : v66) 69.37045144349712, (v84 : v81) 24.699845533313336, (v22 : v99) 60.17197598844083, (v15 : v3) 16.77429135763182, (v22 : v79) 66.2835125697414, (v35 : v31) 7.847947351003404, (v16 : v62) 85.53828911242488, (v20 : v89) 91.71684673367702, (v55 : v17) 59.14338171619671, (v18 : v88) 80.77008935033764, (v91 : v66) 87.27895667033253, (v52 : v24) 30.1081501011928, (v41 : v55) 79.94145916256275, (v91 : v88) 71.17294400656073, (v1 : v43) 16.06145034766212, (v69 : v96) 31.668895679128926, (v99 : v12) 77.46046027466738, (v39 : v35) 85.88242834006358, (v66 : v34) 54.03040423265995, (v99 : v46) 47.42768251355189, (v66 : v8) 24.127415182339284, (v77 : v25) 92.86867809178702, (v64 : v33) 80.1361856385813, (v92 : v48) 99.06559793926641, (v84 : v19) 38.10956150085683, (v77 : v42) 25.500123367799922, (v90 : v1) 76.01299680837154, (v95 : v49) 62.849854685863974, (v25 : v6) 35.15806696590762, (v51 : v55) 64.86469824501793, (v76 : v69) 80.71039914274763, (v92 : v3) 47.8713827196365, (v32 : v14) 0.5835610125163093, (v99 : v62) 73.28130057219951, (v33 : v79) 67.52346290160027, (v87 : v16) 67.14905765297299, (v66 : v52) 50.751251225120285, (v51 : v80) 97.53488173435196, (v10 : v5) 34.233198058908755, (v41 : v62) 47.13580649856502, (v61 : v16) 35.61235007990007, (v37 : v10) 33.90361247511948, (v54 : v23) 69.26032838833582, (v57 : v32) 46.25954271613097, (v50 : v69) 19.042472598595552, (v39 : v62) 48.706775266737246, (v4 : v33) 80.5518428412739, (v36 : v53) 56.35451790665995, (v9 : v77) 62.13650000862827, (v41 : v13) 77.88717650515815, (v25 : v70) 51.46121804087297, (v93 : v89) 42.18632358011195, (v32 : v67) 26.1133796562128, (v40 : v23) 87.05203196514863, (v58 : v10) 18.449556559162517, (v40 : v39) 33.74648084080566, (v73 : v22) 6.113205848467828, (v14 : v10) 59.43142369395038, (v94 : v9) 49.126333205812344, (v6 : v75) 23.590133825979887, (v19 : v89) 4.922822196849386, (v32 : v5) 93.37359757576806, (v5 : v72) 35.964833844514345, (v88 : v71) 37.21309294894494, (v19 : v92) 56.54513170973294]"; 
 var hidden = new Array(); 
 var path = new Array(); 
hidden[0] = "[v38, v66, v47, v94, v9]"; 
path[0] = "[v31, v35, v2, v15, v9, v85, v46, v53, v61, v16, v94, v84, v81, v98, v10, v58, v78, v39, v6, v72, v91, v55, v32, v14, v1, v43, v52, v99, v36, v3, v69, v50, v63, v71, v88, v21, v13, v41, v93, v89, v19, v4, v92, v66, v40, v5, v95, v49, v7, v54, v96, v42, v22, v73, v77, v64, v29, v60, v11, v33, v97, v76, v27, v12, v93, v25, v44, v87, v75, v80, v68, v30, v82, v92, v90, v65, v23, v74, v0, v74, v62, v79, v45, v70, v43, v86, v56, v24, v34, v24, v39, v95, v5, v26, v8, v66, v18, v83, v27, v12, v66, v38, v30, v38, v66, v17, v54, v55, v51, v80, v59, v44, v90, v92, v48, v15, v78, v39, v95, v2, v6, v24, v25, v6, v82, v6, v75, v6, v60, v11, v33, v61, v16, v54, v23, v54, v7, v75, v6, v75, v7, v58, v37, v10, v65, v24, v6, v24, v65, v24, v6, v39, v40, v23, v65, v8, v66, v47]"; 
hidden[1] = "[v9, v87, v85, v72, v56]"; 
path[1] = "[v12, v27, v46, v85, v9, v15, v96, v69, v50, v63, v1, v43, v52, v99, v36, v3, v35, v31, v44, v87, v19, v89, v93, v41, v62, v79, v97, v33, v39, v6, v72, v91, v55, v32, v14, v64, v29, v60, v11, v33, v86, v56]"; 
hidden[2] = "[v89, v58, v21, v13, v52]"; 
path[2] = "[v91, v72, v6, v39, v33, v97, v76, v27, v12, v32, v14, v1, v43, v52, v99, v36, v3, v15, v9, v85, v46, v53, v61, v16, v94, v84, v81, v98, v10, v58, v78, v15, v96, v69, v50, v63, v71, v88, v21, v13, v41, v93, v89]"; 
hidden[3] = "[v58, v78, v15, v14, v6]"; 
path[3] = "[v94, v84, v81, v98, v10, v58, v78, v15, v9, v85, v46, v53, v61, v16, v54, v7, v49, v95, v5, v72, v6, v39, v33, v97, v76, v27, v12, v32, v14]"; 
hidden[4] = "[v96, v72, v84, v94, v47]"; 
path[4] = "[v30, v68, v80, v75, v6, v72, v91, v55, v32, v14, v1, v43, v52, v99, v36, v3, v15, v9, v85, v46, v53, v61, v16, v94, v84, v81, v98, v10, v58, v78, v39, v33, v97, v76, v27, v12, v66, v40, v4, v92, v19, v89, v93, v41, v62, v79, v22, v73, v77, v42, v96, v69, v50, v63, v71, v88, v21, v13, v37, v58, v7, v54, v17, v55, v51, v52, v24, v56, v86, v56, v47]"; 
hidden[5] = "[v42, v98, v94, v23, v60]"; 
path[5] = "[v2, v35, v31, v44, v87, v19, v89, v93, v41, v62, v79, v97, v33, v39, v6, v72, v91, v55, v32, v14, v1, v43, v52, v99, v36, v3, v15, v9, v85, v46, v53, v61, v16, v94, v84, v81, v98, v10, v58, v78, v58, v37, v13, v21, v88, v71, v63, v50, v69, v96, v42, v22, v73, v77, v64, v29, v60, v11, v60, v80, v68, v30, v82, v92, v4, v40, v66, v8, v26, v5, v95, v49, v7, v54, v17, v54, v23]"; 
hidden[6] = "[v91, v52, v10, v22, v73]"; 
path[6] = "[v93, v41, v62, v79, v19, v89, v39, v6, v72, v91, v55, v32, v14, v1, v43, v52, v99, v36, v3, v15, v9, v85, v46, v53, v61, v16, v94, v84, v81, v98, v10, v58, v78, v15, v96, v69, v50, v63, v71, v88, v21, v13, v37, v52, v24, v56, v86, v33, v97, v76, v27, v12, v66, v40, v4, v92, v82, v30, v68, v80, v75, v7, v54, v17, v66, v8, v26, v5, v95, v49, v67, v32, v57, v22, v73]"; 
hidden[7] = "[v27, v2, v95, v39, v13]"; 
path[7] = "[v59, v44, v87, v19, v89, v93, v41, v62, v79, v97, v33, v39, v6, v72, v91, v55, v32, v14, v1, v43, v52, v99, v36, v3, v15, v9, v85, v46, v53, v61, v16, v94, v84, v81, v98, v10, v58, v78, v39, v40, v66, v8, v26, v5, v71, v88, v21, v13, v37, v58, v7, v54, v96, v69, v50, v63, v12, v27, v2, v35, v31, v44, v25, v24, v56, v86, v94, v47, v94, v45, v70, v43, v64, v29, v60, v11, v33, v4, v92, v82, v30, v68, v80, v75, v87, v28, v9, v77, v73, v22, v57, v22, v42, v20, v46, v85, v46, v85, v87, v16, v62, v74, v0, v68, v80, v23, v65, v90, v92, v48, v3, v67, v49, v95]"; 
hidden[8] = "[v75, v7, v49, v39, v89]"; 
path[8] = "[v59, v44, v87, v19, v89, v93, v41, v62, v79, v97, v33, v39, v6, v72, v91, v55, v32, v14, v1, v43, v52, v99, v36, v3, v15, v9, v85, v46, v53, v61, v16, v94, v84, v81, v98, v10, v58, v78, v15, v96, v69, v50, v63, v71, v88, v21, v13, v37, v10, v65, v23, v74, v0, v68, v80, v75, v7, v54, v17, v66, v40, v4, v92, v27, v12, v31, v35, v2, v73, v22, v57, v32, v67, v49]"; 
hidden[9] = "[v48, v15, v36, v49, v65]"; 
path[9] = "[v77, v73, v22, v4, v92, v66, v40, v39, v6, v72, v91, v55, v32, v14, v1, v43, v52, v99, v36, v3, v15, v9, v85, v46, v53, v61, v16, v94, v84, v81, v98, v10, v58, v78, v58, v37, v41, v93, v89, v19, v79, v62, v26, v8, v65, v23, v74, v0, v68, v80, v75, v7, v54, v96, v69, v50, v63, v71, v88, v21, v13, v37, v41, v66, v18, v83, v97, v33, v86, v56, v24, v25, v44, v87, v28, v9, v77, v42, v64, v29, v60, v11, v60, v80, v59, v80, v51, v80, v75, v6, v82, v30, v38, v5, v95, v49, v67, v69, v76, v27, v12, v31, v35, v2, v15, v48]"; 
var step, play;

function showGraph() {
    
	var width = $(document).width();
	
    var height = $(document).height() - 100;

    var g = new Graph();
	
	var graph = graphNodes.split(",");
	
	var hiddenItems = hidden[$('#round-to-play').val()].substring(0, hidden[$('#round-to-play').val()].length - 1).split(",");
	
	for (var k = 0; k < hiddenItems.length; k++) {
		
		hiddenItems[k] = hiddenItems[k].substring(1, hiddenItems[k].length);
		
		g.addNode(hiddenItems[k], { label : hiddenItems[k] + " HIDE" });
	
		$('#hidden').append(hiddenItems[k] + " ");
	
	}
	
	for (var i = 0; i < graph.length; i++) {
		
		g.addEdge(graph[i].substring(graph[i].indexOf("(") + 1, graph[i].indexOf(":") - 1), graph[i].substring(graph[i].indexOf(":") + 2, graph[i].indexOf(")")));
		 
	}
	
	var layouter = new Graph.Layout.Spring(g);
	
	var searchPath = path[$('#round-to-play').val()].substring(0, path[$('#round-to-play').val()].length - 1).split(",");
	
	var renderer = new Graph.Renderer.Raphael('canvas', g, width, height);
	
	step = function() {
		
		drawPath(hiddenItems, searchPath, g, renderer);
		
		searchPath.splice(0,1);
		
	}
	
	play = function() {
		
		setInterval(function(){step()},1000);
		
	}
		
	step();
	
};

function drawPath(hiddenItems, searchPath, g, renderer) {
	
	
	for (var j = 1; j < searchPath.length; j++) {
		
	
		 /* colourising the shortest paths and setting labels */
		for(e in g.edges) {
			
			if((searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].source.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].target.id) ||
			   (searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].target.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].source.id)) {
			
				$('#output').html(searchPath[j-1].substring(1,searchPath[j-1].length) + " to " + searchPath[j].substring(1,searchPath[j].length));
				
				for (var l = 0; l < hiddenItems.length; l++) {
				
					if ( hiddenItems[l] == g.edges[e].source.id || hiddenItems[l] == g.edges[e].target.id ) {
						
						//alert(hiddenItems[l] + " " + g.edges[e].source.id);
						//alert(hiddenItems[l] + " " + g.edges[e].target.id);
						hiddenItems.splice(l, 1);
						$('#hidden').html("Hidden Items: ");
						
						for (var o = 0; o < hiddenItems.length; o++) {
		
							//alert(hiddenItems);
							
							$('#hidden').append(hiddenItems[o] + " ");
						
						}
	
					}
					
				}
				
				g.edges[e].style.stroke = "#00c8a1";
				g.edges[e].style.fill = "#00c8a1";
				
				renderer.draw();
				return;
				
			} else {
				
				g.edges[e].style.stroke = "#fff";
			
			}
			
		}
		
	}

}

function getRandomColor() {
	
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
	
}
