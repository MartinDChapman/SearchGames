var graphNodes = "[(v62 : v41) 4.18528729523826, (v42 : v26) 4.580048777015606, (v28 : v60) 0.33923415745204744, (v21 : v15) 3.0685681902151227, (v92 : v34) 4.895715220491404, (v63 : v56) 5.451986038352329, (v77 : v97) 9.68889815529609, (v47 : v20) 4.461803322091507, (v3 : v76) 4.435301510293861, (v18 : v79) 2.795909869100268, (v4 : v31) 6.125389839483209, (v50 : v68) 1.7758277682974088, (v42 : v18) 6.732583505037294, (v38 : v53) 1.8547319871385004, (v48 : v42) 6.676820759689707, (v57 : v11) 9.944147992576585, (v81 : v73) 8.500720343614347, (v20 : v15) 9.258162232954346, (v14 : v43) 3.1558838439587, (v62 : v55) 6.118222098320829, (v22 : v1) 4.695963938184281, (v91 : v79) 6.725785431978528, (v74 : v57) 2.7290704220379602, (v84 : v12) 3.5071058322426527, (v11 : v8) 3.048407225745362, (v55 : v82) 2.3834399633881853, (v56 : v36) 7.946500223816456, (v47 : v38) 7.746327130128808, (v33 : v91) 8.990994573139664, (v64 : v27) 3.452977371789523, (v52 : v17) 6.8210446482869855, (v9 : v7) 4.6390722043259895, (v64 : v22) 7.791302021832993, (v98 : v14) 4.319607211971643, (v84 : v35) 4.18019628943572, (v80 : v74) 9.763146737725666, (v20 : v59) 8.98160425725035, (v20 : v70) 9.537683723881296, (v19 : v35) 3.96139939285678, (v93 : v8) 2.400077087280441, (v27 : v32) 9.286267000649302, (v42 : v35) 2.204924254470243, (v18 : v73) 8.381320756814105, (v32 : v10) 8.518098576387874, (v73 : v15) 4.161513958610286, (v68 : v27) 4.316696357667454, (v20 : v77) 3.98180858392399, (v14 : v0) 0.12867330533906984, (v69 : v33) 4.791136344758814, (v39 : v32) 7.206141858139636, (v33 : v40) 6.440052868214847, (v95 : v20) 1.2365701040202581, (v25 : v8) 6.922726154206255, (v73 : v9) 6.9825588136056975, (v8 : v16) 5.727722384827045, (v46 : v86) 3.8164269733850165, (v55 : v27) 0.28253329729795884, (v85 : v82) 1.9995906567101807, (v46 : v91) 0.7136237961017533, (v25 : v36) 0.7741102545563527, (v31 : v85) 2.473059166637345, (v38 : v73) 6.816423673564963, (v17 : v0) 7.626691406996256, (v60 : v44) 6.689074097935369, (v64 : v89) 9.236015650825262, (v29 : v30) 9.859324827565747, (v4 : v69) 9.93088197645544, (v61 : v78) 1.2843149868860693, (v35 : v70) 3.754294847590325, (v52 : v5) 0.04749901688287261, (v59 : v1) 8.110815186367661, (v33 : v44) 5.033403289981146, (v85 : v53) 1.270112258103968, (v95 : v18) 1.0163849163034122, (v95 : v85) 6.626766140979963, (v6 : v66) 1.0894730166737854, (v73 : v60) 1.7124959735655698, (v35 : v38) 0.2531430889795083, (v1 : v98) 1.8698799780148634, (v60 : v1) 2.8089290530278186, (v4 : v96) 2.255815964140697, (v47 : v0) 4.453241263846522, (v13 : v73) 9.333248662868913, (v50 : v99) 1.543033456322881, (v1 : v79) 3.7720615285183934, (v41 : v24) 1.713671115018055, (v57 : v81) 0.41174812976538244, (v67 : v17) 5.0834176137362705, (v1 : v31) 9.993089306348272, (v46 : v2) 5.797479826559744, (v53 : v44) 9.253310079913646, (v11 : v63) 3.1729554864679255, (v78 : v49) 5.865079144636832, (v15 : v48) 7.635936589228022, (v50 : v14) 7.906558054565452, (v85 : v32) 2.8313289389447194, (v69 : v21) 2.0559541191033945, (v48 : v31) 4.478794303230197, (v41 : v64) 3.6445086762214363, (v12 : v42) 2.895005286023431, (v13 : v44) 5.8675362449040165, (v58 : v86) 7.659749854794483, (v94 : v85) 5.7913044384346, (v53 : v73) 4.134233553710249, (v66 : v21) 4.907717887794436, (v80 : v66) 5.813345837822611, (v76 : v77) 0.6387081469945632, (v33 : v55) 8.585062504838763, (v78 : v18) 8.793957279799026, (v12 : v56) 1.5611953363535758, (v52 : v35) 2.1113540529894292, (v53 : v10) 9.322271901969815, (v98 : v45) 5.887908212147415, (v74 : v2) 6.1795548824248705, (v18 : v8) 2.724522980807209, (v89 : v1) 9.799496365087474, (v83 : v54) 6.602023162860531, (v94 : v86) 8.566911208573162, (v50 : v9) 4.075462264523794, (v70 : v0) 0.09571583303482956, (v63 : v78) 2.1724712786634983, (v77 : v9) 1.9493838815887066, (v30 : v43) 8.619049277696952, (v63 : v18) 5.93267687919035, (v80 : v10) 7.958740371972909, (v79 : v4) 4.193393533411155, (v60 : v16) 4.800855219873745, (v0 : v64) 5.165694069560516, (v82 : v39) 3.3088001140206327, (v13 : v59) 5.339177970185068, (v69 : v0) 5.755436092653543, (v70 : v2) 5.600681791941052, (v21 : v54) 5.8197197699068735, (v14 : v36) 9.025387084908498, (v28 : v26) 7.72493631904932, (v43 : v99) 7.453145785058331, (v61 : v1) 6.4271554483126, (v3 : v64) 2.844121675426692, (v33 : v18) 8.112868077559828, (v28 : v93) 3.5402627229768813, (v26 : v74) 3.1731283641433627, (v91 : v2) 6.347425564661537, (v46 : v81) 4.66018128430931, (v92 : v7) 0.3850642210984212, (v51 : v41) 5.730039372042671, (v87 : v52) 4.4203787406716195, (v18 : v0) 6.615515628754574, (v24 : v14) 3.812131042757766, (v58 : v30) 9.799876369192676, (v29 : v59) 8.04258365034819, (v79 : v57) 5.968785278538441, (v46 : v42) 3.3270939507297745, (v19 : v92) 0.36108647839027785, (v38 : v42) 4.078971944073063, (v36 : v55) 1.827016682255318, (v37 : v29) 0.5976309070036789, (v8 : v13) 5.401603014955079, (v94 : v37) 0.6725041019933198, (v87 : v0) 3.833621688737362, (v72 : v6) 8.691540365503789, (v72 : v2) 7.255032749173694, (v43 : v0) 5.055472339369347, (v58 : v43) 1.167055826048402, (v85 : v28) 0.37785484185301255, (v89 : v88) 6.94802040959678, (v40 : v88) 6.152760803725759, (v80 : v38) 2.1020792312345096, (v70 : v95) 5.759860133529489, (v36 : v15) 8.07032829163747, (v11 : v93) 5.219553078245831, (v56 : v43) 5.376597793432691, (v57 : v34) 1.7842695282095067, (v93 : v68) 0.5951829983068324, (v94 : v80) 3.9376220832995035, (v94 : v60) 8.67933513178509, (v99 : v1) 8.758689194289403, (v0 : v76) 1.8059523218424511, (v82 : v23) 0.8884762729870366, (v19 : v48) 1.4583430184809232, (v39 : v77) 1.9099147026266716, (v39 : v99) 1.0262405107985784, (v12 : v8) 4.128275261637324, (v0 : v15) 8.947631707718513, (v4 : v39) 9.228473684883017, (v99 : v44) 7.20399493716519, (v67 : v40) 9.708572305681804, (v94 : v91) 1.8189629881574532, (v54 : v93) 0.37023246689027345, (v76 : v49) 3.566239927264384, (v78 : v28) 3.4185764021402756, (v59 : v18) 1.1881129877124375, (v38 : v56) 5.223767441478397, (v81 : v60) 1.539569065573595, (v16 : v6) 5.768774156741065, (v82 : v18) 1.8396826996272908, (v18 : v10) 4.902596256641326, (v79 : v16) 6.922536516315691, (v85 : v58) 8.292385690480716, (v61 : v85) 7.481792049116001, (v34 : v83) 2.384255137645419, (v61 : v80) 4.899613185377917, (v91 : v51) 2.6102717469265038, (v33 : v5) 0.601769372905514, (v11 : v28) 4.793595345589853, (v14 : v77) 6.902378953076486, (v26 : v4) 2.3865541282558556, (v55 : v68) 6.066202355639153, (v48 : v45) 4.415566565996304, (v18 : v17) 1.5521478305948677, (v1 : v37) 2.2963440227722707, (v86 : v41) 1.9934903315394092, (v9 : v89) 0.9231436141212013, (v12 : v11) 3.9592289434912233, (v55 : v74) 7.433620108574306, (v94 : v83) 3.6243023597203483, (v50 : v2) 3.0189431364636823, (v28 : v49) 2.507549679373642, (v5 : v80) 1.2064369833477062, (v33 : v34) 5.925103895338195, (v67 : v22) 3.7144698744555105, (v18 : v92) 9.919379096416623, (v60 : v93) 9.698281929481652, (v31 : v50) 8.48219402846429, (v31 : v23) 9.808819191915449, (v19 : v31) 5.873404228964862, (v28 : v33) 5.718546197807111, (v25 : v3) 1.8784446332207427, (v34 : v15) 2.7790561714821225, (v86 : v8) 1.7404319282499636, (v88 : v93) 6.321706526931077, (v47 : v58) 8.19221524423626, (v65 : v0) 5.257381673128229, (v48 : v7) 4.104499588082538, (v70 : v53) 3.443967019785484, (v48 : v95) 9.517665702609094, (v43 : v98) 4.545583661109504, (v29 : v2) 2.6531990477975254, (v75 : v76) 8.487737428467028, (v51 : v82) 7.477972624763371, (v73 : v65) 2.205168573150348, (v51 : v46) 9.74952544487808, (v52 : v90) 8.178476934044983, (v16 : v63) 3.587701784106515, (v67 : v81) 6.661950026560892, (v83 : v80) 3.53858959011769, (v20 : v72) 0.825065264065965, (v80 : v77) 5.017874639323493, (v46 : v54) 3.9767709796748085, (v45 : v52) 3.796037580708104, (v8 : v39) 9.234008696576822, (v94 : v15) 2.827013028207943, (v25 : v76) 0.45942094018267543, (v82 : v46) 9.891042998234637, (v99 : v93) 8.959422419691887, (v41 : v70) 0.04372806409930541, (v2 : v67) 9.64069996501706, (v47 : v41) 3.215252062420867, (v14 : v46) 8.314882056324658, (v78 : v8) 5.121174342345411, (v51 : v16) 5.267978115585377, (v8 : v34) 2.2200741038700644, (v88 : v61) 9.62986435044682, (v49 : v54) 2.2309604099930356, (v7 : v73) 1.4524803656032237, (v24 : v60) 6.808231345988211, (v46 : v20) 9.602651006100633, (v44 : v71) 3.6238721486498413, (v80 : v88) 0.8719256381203921, (v65 : v55) 0.24149104501268948, (v25 : v98) 0.2832002564610292, (v48 : v9) 0.857030844438702, (v19 : v40) 2.020035318266774, (v36 : v23) 0.9550236674930512, (v22 : v83) 1.2136342763543129, (v98 : v71) 1.0718706310518311, (v7 : v82) 6.894817342029803, (v79 : v78) 3.709846297374969, (v81 : v26) 7.560636606978645, (v56 : v14) 1.7045927620480639, (v65 : v64) 1.2304233717419266, (v49 : v82) 9.368319071886361, (v39 : v38) 8.693185348813453, (v0 : v99) 2.0205098256201968, (v44 : v0) 0.402768486894306, (v84 : v74) 5.24368977671284, (v55 : v23) 6.590693906103441, (v44 : v94) 2.685968662981951, (v30 : v56) 5.476989730971731, (v54 : v5) 3.453185914215291, (v73 : v8) 3.710772758394849, (v68 : v71) 5.226298690348038, (v35 : v44) 5.515214129187552, (v50 : v73) 2.995177956064433, (v41 : v45) 5.502461005224356, (v12 : v61) 1.6655019094934742, (v29 : v62) 4.225996209333962, (v39 : v47) 2.3744469369054375, (v7 : v69) 3.6199242036894175, (v81 : v21) 0.9031661788373113, (v10 : v13) 1.312174833858737]"; 
 var hidden = new Array(); 
 var path = new Array(); 
hidden[0] = "[v24, v14, v56, v36, v48]"; 
path[0] = "[v1, v98, v25, v76, v77, v39, v99, v50, v68, v93, v54, v49, v28, v60, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v28, v85, v53, v38, v35, v52, v5, v33, v69, v21, v15, v94, v37, v29, v2, v46, v91, v51, v16, v6, v66, v80, v88, v40, v19, v92, v7, v73, v65, v55, v27, v64, v3, v76, v75, v76, v3, v64, v22, v83, v54, v21, v69, v4, v96, v4, v26, v74, v84, v35, v42, v48, v9, v89, v64, v0, v44, v71, v68, v50, v31, v23, v82, v18, v95, v20, v72, v2, v67, v17, v67, v2, v50, v9, v7, v9, v48, v45, v52, v87, v0, v47, v58, v43, v30, v29, v62, v41, v24, v14, v36]"; 
hidden[1] = "[v95, v18, v10, v23, v8]"; 
path[1] = "[v2, v29, v37, v94, v91, v46, v42, v35, v38, v53, v85, v28, v60, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v93, v54, v49, v76, v25, v98, v71, v44, v33, v5, v52, v45, v48, v9, v89, v88, v80, v83, v22, v67, v17, v18, v95, v20, v72, v6, v66, v21, v69, v7, v92, v19, v40, v88, v61, v1, v79, v4, v96, v4, v26, v74, v84, v35, v38, v73, v65, v55, v27, v64, v3, v64, v0, v99, v39, v77, v97, v77, v76, v75, v76, v0, v87, v52, v90, v52, v35, v70, v41, v24, v60, v16, v51, v82, v23, v36, v15, v73, v50, v68, v93, v99, v43, v58, v47, v41, v62, v55, v33, v69, v4, v31, v48, v19, v31, v50, v31, v4, v69, v21, v15, v36, v14, v24, v14, v24, v41, v51, v46, v2, v67, v22, v1, v59, v13, v10]"; 
hidden[2] = "[v59, v65, v64, v22, v1]"; 
path[2] = "[v6, v66, v21, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v28, v60, v73, v7, v92, v19, v48, v9, v89, v88, v80, v5, v52, v35, v38, v53, v85, v82, v23, v36, v25, v98, v71, v44, v94, v37, v29, v2, v50, v99, v39, v77, v76, v49, v54, v93, v68, v27, v55, v65, v64, v3, v25, v8, v18, v95, v20, v72, v20, v47, v58, v43, v30, v43, v0, v87, v52, v45, v98, v1, v79, v4, v96, v4, v26, v74, v84, v74, v80, v83, v22, v67, v17, v18, v59]"; 
hidden[3] = "[v40, v67, v81, v15, v45]"; 
path[3] = "[v32, v85, v28, v60, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v93, v54, v49, v76, v25, v98, v71, v44, v94, v37, v29, v2, v50, v99, v39, v77, v9, v48, v19, v92, v7, v73, v65, v55, v27, v64, v3, v76, v75, v76, v0, v87, v52, v5, v33, v69, v21, v15, v36, v23, v82, v18, v95, v20, v72, v6, v66, v80, v88, v40, v67, v22, v83, v54, v46, v91, v51, v16, v79, v1, v59, v13, v10, v53, v38, v35, v42, v26, v4, v96, v4, v31, v48, v45]"; 
hidden[4] = "[v38, v80, v89, v1, v42]"; 
path[4] = "[v69, v21, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v28, v60, v73, v7, v92, v19, v48, v9, v89, v88, v80, v5, v52, v35, v38, v53, v85, v82, v23, v36, v25, v98, v71, v44, v94, v37, v29, v2, v50, v99, v39, v77, v76, v49, v54, v93, v68, v27, v55, v65, v64, v3, v64, v22, v83, v80, v66, v6, v16, v51, v91, v46, v42, v26, v4, v96, v4, v79, v18, v95, v20, v72, v20, v47, v58, v43, v30, v43, v30, v43, v14, v24, v41, v62, v29, v59, v13, v10, v32, v85, v31, v1]"; 
hidden[5] = "[v32, v55, v74, v14, v46]"; 
path[5] = "[v76, v25, v98, v71, v44, v0, v70, v41, v24, v14, v56, v12, v61, v78, v63, v11, v8, v86, v46, v91, v94, v37, v29, v2, v50, v99, v39, v77, v9, v48, v19, v92, v7, v73, v60, v28, v85, v53, v38, v35, v52, v5, v33, v69, v21, v81, v57, v34, v83, v22, v67, v17, v18, v95, v20, v72, v6, v66, v80, v88, v40, v67, v22, v1, v79, v4, v96, v4, v26, v74, v84, v35, v42, v38, v47, v58, v43, v30, v56, v36, v23, v82, v55, v65, v64, v3, v76, v49, v54, v93, v68, v27, v32]"; 
hidden[6] = "[v73, v99, v24, v16, v40]"; 
path[6] = "[v52, v5, v33, v69, v21, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v28, v60, v73, v7, v92, v19, v48, v9, v89, v88, v80, v38, v35, v42, v46, v91, v94, v37, v29, v2, v50, v99, v39, v77, v76, v25, v98, v71, v44, v13, v10, v18, v95, v20, v72, v6, v66, v80, v83, v22, v67, v17, v52, v45, v98, v1, v79, v4, v96, v4, v26, v74, v84, v74, v55, v65, v64, v3, v25, v36, v23, v82, v85, v53, v85, v31, v48, v15, v34, v15, v34, v15, v20, v47, v58, v43, v30, v43, v14, v24, v60, v16, v51, v16, v8, v93, v54, v49, v82, v51, v82, v46, v81, v67, v40]"; 
hidden[7] = "[v31, v27, v82, v0, v99]"; 
path[7] = "[v47, v39, v99, v50, v68, v93, v54, v49, v28, v60, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v12, v42, v35, v38, v53, v85, v82, v23, v36, v25, v98, v71, v44, v94, v37, v29, v2, v46, v91, v51, v16, v6, v66, v21, v69, v7, v92, v19, v48, v9, v89, v88, v80, v5, v52, v45, v98, v1, v79, v18, v95, v20, v72, v6, v72, v20, v77, v76, v3, v64, v65, v55, v27, v32, v10, v13, v59, v29, v62, v41, v24, v14, v43, v58, v30, v58, v43, v56, v14, v46, v42, v26, v4, v96, v4, v31]"; 
hidden[8] = "[v76, v38, v41, v0, v52]"; 
path[8] = "[v47, v39, v99, v50, v68, v93, v54, v49, v28, v60, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v12, v42, v35, v38, v53, v85, v82, v23, v36, v25, v98, v71, v44, v94, v37, v29, v2, v46, v91, v51, v16, v6, v66, v21, v69, v7, v92, v19, v48, v9, v89, v88, v80, v5, v52, v45, v52, v87, v52, v17, v18, v95, v20, v72, v2, v74, v26, v4, v96, v4, v79, v1, v22, v83, v54, v93, v54, v5, v33, v40, v67, v22, v64, v65, v55, v27, v32, v10, v13, v59, v20, v77, v76]"; 
hidden[9] = "[v71, v98, v8, v44, v33]"; 
path[9] = "[v18, v95, v20, v72, v2, v29, v37, v94, v91, v46, v42, v35, v38, v53, v85, v28, v60, v81, v57, v34, v8, v86, v41, v70, v0, v14, v56, v12, v61, v78, v63, v11, v93, v54, v49, v76, v25, v98, v71, v44, v33]"; 
var step, play;

function showGraph() {
    
	var width = $(document).width();
	
    var height = $(document).height() - 100;

    var g = new Graph();
	
	var graph = graphNodes.split(",");
	
	var hiddenItems = hidden[$('#round-to-play').val()].substring(0, hidden[$('#round-to-play').val()].length - 1).split(",");
	
	for (var k = 0; k < hiddenItems.length; k++) {
		
		hiddenItems[k] = hiddenItems[k].substring(1, hiddenItems[k].length);
		
		g.addNode(hiddenItems[k], { label : hiddenItems[k] + " HIDE" });
	
		$('#hidden').append(hiddenItems[k] + " ");
	
	}
	
	for (var i = 0; i < graph.length; i++) {
		
		g.addEdge(graph[i].substring(graph[i].indexOf("(") + 1, graph[i].indexOf(":") - 1), graph[i].substring(graph[i].indexOf(":") + 2, graph[i].indexOf(")")));
		 
	}
	
	var layouter = new Graph.Layout.Spring(g);
	
	var searchPath = path[$('#round-to-play').val()].substring(0, path[$('#round-to-play').val()].length - 1).split(",");
	
	var renderer = new Graph.Renderer.Raphael('canvas', g, width, height);
	
	step = function() {
		
		drawPath(hiddenItems, searchPath, g, renderer);
		
		searchPath.splice(0,1);
		
	}
	
	play = function() {
		
		setInterval(function(){step()},1000);
		
	}
		
	step();
	
};

function drawPath(hiddenItems, searchPath, g, renderer) {
	
	
	for (var j = 1; j < searchPath.length; j++) {
		
	
		 /* colourising the shortest paths and setting labels */
		for(e in g.edges) {
			
			if((searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].source.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].target.id) ||
			   (searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].target.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].source.id)) {
			
				$('#output').html(searchPath[j-1].substring(1,searchPath[j-1].length) + " to " + searchPath[j].substring(1,searchPath[j].length));
				
				for (var l = 0; l < hiddenItems.length; l++) {
				
					if ( hiddenItems[l] == g.edges[e].source.id || hiddenItems[l] == g.edges[e].target.id ) {
						
						//alert(hiddenItems[l] + " " + g.edges[e].source.id);
						//alert(hiddenItems[l] + " " + g.edges[e].target.id);
						hiddenItems.splice(l, 1);
						$('#hidden').html("Hidden Items: ");
						
						for (var o = 0; o < hiddenItems.length; o++) {
		
							//alert(hiddenItems);
							
							$('#hidden').append(hiddenItems[o] + " ");
						
						}
	
					}
					
				}
				
				g.edges[e].style.stroke = "#00c8a1";
				g.edges[e].style.fill = "#00c8a1";
				
				renderer.draw();
				return;
				
			} else {
				
				g.edges[e].style.stroke = "#fff";
			
			}
			
		}
		
	}

}

function getRandomColor() {
	
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
	
}
