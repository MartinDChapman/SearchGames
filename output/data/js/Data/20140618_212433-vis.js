var graphNodes = "[(v0 : v1) 6.443185678071043, (v0 : v2) 0.3318593403447212, (v3 : v0) 0.3670676711982368, (v4 : v1) 5.037236410956235, (v0 : v5) 3.670178997239819, (v1 : v5) 4.720600243545229, (v1 : v6) 2.030061792843866, (v7 : v5) 5.173895845933345, (v1 : v8) 3.9586828497169604, (v5 : v8) 7.514858116977007, (v1 : v9) 7.069986183997421, (v0 : v10) 0.6524767523618458, (v11 : v1) 9.072664746154803, (v8 : v12) 2.389493174457633, (v13 : v1) 9.889284715771891, (v13 : v5) 3.2018681417922377, (v5 : v14) 6.337738159953123, (v15 : v0) 4.552271554426914, (v2 : v15) 3.4245504300353105, (v16 : v8) 8.741480467462907, (v17 : v7) 2.595394268955885, (v18 : v3) 5.647243862765063, (v7 : v19) 8.525985796192494, (v2 : v20) 0.5201023654291448, (v1 : v21) 1.1324032619108404, (v22 : v1) 7.481452580132633, (v22 : v13) 7.506033862872908, (v15 : v23) 3.0887357963213136, (v24 : v1) 1.1633237248547101, (v13 : v25) 9.790114971092853, (v1 : v26) 0.22906213602834513, (v13 : v26) 8.186819203786529, (v27 : v1) 6.485080989925544, (v28 : v2) 1.5620743366268774, (v29 : v8) 8.311256616300746, (v1 : v30) 4.334129136210638, (v31 : v13) 9.776086320337487, (v8 : v32) 5.066445827033737, (v33 : v0) 8.009642661882646, (v33 : v2) 2.9460570013696783, (v34 : v4) 1.6783846626472676, (v35 : v8) 6.6530318908260035, (v23 : v35) 5.201417391423275, (v13 : v36) 5.127831571728611, (v0 : v37) 9.279837185822075, (v37 : v24) 8.643214739592535, (v37 : v35) 6.489541346751949, (v38 : v31) 4.9536633081597925, (v33 : v39) 6.904358495404565, (v40 : v18) 2.1846814434327158, (v41 : v0) 8.917807167238019, (v8 : v41) 6.999663321203185, (v42 : v1) 3.2217405385178544, (v42 : v2) 1.8124701440337365, (v42 : v4) 7.038365781368141, (v43 : v5) 8.174795807151753, (v44 : v31) 2.604621447780967, (v2 : v45) 8.640477208399727, (v45 : v25) 0.14695593136379914, (v1 : v46) 6.481996390411513, (v47 : v8) 5.3886588683708165, (v11 : v48) 0.6016905401883565, (v49 : v0) 4.385848180187086, (v44 : v49) 2.241995240842307, (v50 : v2) 1.2329953794998594, (v50 : v20) 4.962072279130664, (v51 : v32) 4.111784675462564, (v51 : v35) 0.5252621693832815, (v52 : v0) 2.1316113718096052, (v18 : v52) 0.4521394850170357, (v53 : v2) 4.435955215458196, (v47 : v53) 7.062890609061458, (v0 : v54) 6.792181107175547, (v55 : v7) 3.7919423847668767, (v56 : v2) 2.165318694886522, (v57 : v8) 3.7451218046160895, (v18 : v57) 6.077559358518152, (v31 : v58) 8.129275380968336, (v58 : v37) 5.509346521107203, (v59 : v1) 3.9666024612224318, (v3 : v59) 9.996045544706405, (v60 : v1) 8.967597288614526, (v4 : v60) 3.863526762997085, (v60 : v23) 2.5403654119220995, (v61 : v17) 0.3300847383636374, (v8 : v62) 6.529279564214377, (v63 : v1) 7.740736546232886, (v16 : v63) 9.677902841749514, (v36 : v64) 9.40908165722275, (v45 : v64) 2.181440892728989, (v65 : v1) 5.493850638843409, (v66 : v0) 3.6206019110413523, (v1 : v66) 4.760521772396937, (v67 : v53) 0.5457650420059779, (v68 : v21) 7.8577290784094025, (v1 : v69) 1.9081991273694099, (v70 : v41) 1.4146026977317272, (v70 : v49) 8.220344726205147, (v71 : v22) 3.53598225158386, (v72 : v11) 6.9827992142474615, (v72 : v49) 8.49110528932788, (v49 : v73) 4.660728563665581, (v74 : v4) 9.067682767379441, (v35 : v74) 7.8523991974383165, (v75 : v68) 4.363235660121584, (v76 : v25) 0.6989940185454235, (v49 : v76) 4.031458757285229, (v1 : v77) 5.875741839993306, (v7 : v77) 5.171699202176974, (v5 : v78) 5.423807405884644, (v30 : v78) 8.279170338313124, (v63 : v79) 9.380724356426555, (v80 : v7) 4.7532734060108055, (v80 : v18) 2.7010717062064216, (v81 : v1) 1.3386291606985634, (v81 : v35) 8.79146441722374, (v49 : v81) 0.151664726709827, (v1 : v82) 4.483906611581842, (v83 : v5) 5.384597946350733, (v84 : v8) 1.2145306534825517, (v35 : v84) 5.794452261749647, (v85 : v5) 9.242342330410839, (v63 : v86) 2.2495626231406263, (v40 : v87) 1.0227256927113326, (v88 : v18) 1.148434595047494, (v3 : v89) 0.3372538161577887, (v89 : v18) 1.8305411776222813, (v24 : v89) 0.8752016654367578, (v80 : v89) 1.2067122333795854, (v81 : v90) 0.9696964804597319, (v91 : v20) 3.945456097887531, (v91 : v35) 5.825585753873109, (v57 : v91) 6.514352889576407, (v44 : v92) 9.45595030612907, (v92 : v57) 8.20236467000266, (v93 : v63) 1.6951739097079677, (v94 : v34) 9.605506263329142, (v58 : v94) 1.0102203483349959, (v45 : v95) 6.767105677262553, (v96 : v0) 7.726147875674635, (v96 : v18) 7.703343735813091, (v18 : v97) 9.96107477342506, (v25 : v98) 3.0496869996959894, (v99 : v89) 2.680161008210634]"; 
 var hidden = new Array(); 
 var path = new Array(); 
hidden[0] = "[v52, v18, v89, v3, v59]"; 
path[0] = "[v34, v4, v60, v23, v15, v2, v0, v3, v89, v24, v1, v26, v13, v5, v7, v17, v61, v17, v7, v55, v7, v80, v18, v52, v18, v88, v18, v40, v87, v40, v87, v40, v18, v57, v8, v84, v35, v51, v32, v8, v12, v8, v47, v53, v67, v53, v47, v53, v47, v53, v47, v53, v67, v53, v2, v20, v91, v35, v37, v58, v94, v34, v94, v34, v4, v42, v2, v50, v20, v2, v28, v2, v56, v2, v33, v39, v33, v2, v45, v25, v76, v49, v81, v90, v81, v49, v44, v31, v38, v31, v58, v37, v35, v74, v35, v74, v35, v23, v35, v51, v35, v91, v57, v92, v44, v92, v57, v8, v62, v8, v41, v70, v41, v70, v41, v70, v41, v70, v41, v0, v10, v0, v66, v1, v21, v68, v75, v68, v75, v68, v21, v1, v69, v1, v6, v1, v59]"; 
hidden[1] = "[v13, v64, v45, v95, v2]"; 
path[1] = "[v1, v26, v13, v5, v0, v2, v20, v91, v35, v51, v32, v8, v84, v8, v12, v8, v57, v18, v52, v18, v88, v18, v89, v3, v59, v1, v21, v68, v75, v68, v21, v1, v24, v37, v58, v94, v34, v4, v60, v23, v15, v2, v50, v2, v28, v2, v42, v2, v56, v2, v33, v39, v33, v0, v10, v0, v66, v0, v49, v81, v90, v81, v1, v69, v1, v6, v1, v30, v78, v5, v7, v17, v61, v17, v61, v17, v7, v55, v7, v80, v89, v99, v89, v99, v89, v80, v7, v77, v7, v19, v7, v80, v18, v40, v87, v40, v18, v96, v0, v54, v0, v41, v70, v41, v0, v52, v0, v41, v70, v41, v8, v47, v53, v67, v53, v47, v53, v47, v53, v67, v53, v2, v45, v25, v76, v49, v44, v31, v38, v31, v44, v92, v44, v31, v44, v92, v57, v92, v57, v91, v35, v74, v35, v84, v8, v62, v8, v29, v8, v16, v63, v93, v63, v86, v63, v79, v63, v1, v82, v1, v65, v1, v46, v1, v27, v1, v9, v1, v22, v71, v22, v71, v22, v71, v22, v13, v36, v64, v45, v95]"; 
hidden[2] = "[v65, v1, v24, v80, v5]"; 
path[2] = "[v53, v67, v53, v2, v0, v3, v89, v24, v1, v26, v13, v5, v7, v17, v61, v17, v7, v55, v7, v80, v18, v52, v0, v10, v0, v66, v0, v49, v81, v90, v81, v35, v51, v32, v8, v84, v35, v23, v60, v4, v34, v94, v58, v37, v24, v89, v99, v89, v24, v37, v0, v15, v2, v20, v91, v57, v92, v44, v31, v38, v31, v38, v31, v44, v92, v57, v8, v12, v8, v47, v53, v47, v8, v62, v8, v41, v70, v41, v0, v54, v0, v96, v0, v33, v39, v33, v2, v50, v2, v28, v2, v42, v1, v21, v68, v75, v68, v21, v68, v75, v68, v21, v1, v69, v1, v6, v1, v59, v1, v30, v78, v5, v83, v5, v14, v5, v43, v5, v85, v5, v78, v30, v78, v5, v13, v36, v64, v45, v25, v76, v49, v73, v49, v72, v11, v48, v11, v72, v49, v81, v35, v74, v35, v51, v35, v51, v35, v8, v29, v8, v16, v63, v93, v63, v86, v63, v79, v63, v16, v63, v16, v63, v93, v63, v86, v63, v86, v63, v86, v63, v79, v63, v16, v8, v57, v92, v44, v49, v73, v49, v0, v15, v2, v56, v2, v0, v37, v35, v84, v35, v8, v47, v53, v67, v53, v47, v8, v1, v82, v1, v65]"; 
hidden[3] = "[v58, v94, v34, v1, v66]"; 
path[3] = "[v76, v25, v45, v64, v36, v13, v5, v0, v2, v20, v91, v35, v51, v32, v8, v84, v8, v12, v8, v57, v18, v52, v0, v3, v89, v24, v1, v26, v1, v21, v68, v75, v68, v75, v68, v21, v68, v75, v68, v21, v68, v75, v68, v21, v1, v81, v49, v44, v31, v38, v31, v58, v94, v34, v4, v60, v23, v15, v2, v50, v20, v2, v28, v2, v42, v1, v69, v1, v6, v1, v59, v3, v18, v88, v18, v40, v87, v40, v87, v40, v87, v40, v18, v80, v7, v17, v61, v17, v61, v17, v7, v55, v7, v77, v1, v30, v78, v30, v1, v82, v1, v66]"; 
hidden[4] = "[v1, v59, v5, v13, v26]"; 
path[4] = "[v25, v45, v64, v36, v13, v5, v0, v2, v20, v91, v35, v51, v32, v8, v84, v8, v12, v8, v57, v18, v52, v0, v3, v89, v24, v1, v26, v1, v21, v68, v75, v68, v21, v68, v75, v68, v75, v68, v21, v1, v81, v49, v44, v31, v38, v31, v58, v94, v34, v4, v60, v23, v15, v2, v50, v20, v91, v20, v91, v20, v91, v35, v37, v0, v10, v0, v66, v0, v54, v0, v96, v18, v88, v18, v40, v87, v40, v18, v80, v7, v17, v61, v17, v61, v17, v7, v55, v7, v77, v1, v69, v1, v6, v1, v42, v2, v28, v2, v56, v2, v33, v39, v33, v0, v41, v70, v41, v8, v47, v53, v67, v53, v67, v53, v2, v50, v2, v28, v2, v28, v2, v53, v2, v45, v95, v45, v25, v76, v49, v73, v49, v72, v11, v48, v11, v1, v59]"; 
hidden[5] = "[v60, v34, v58, v37, v35]"; 
path[5] = "[v85, v5, v13, v36, v64, v45, v25, v76, v49, v81, v90, v81, v1, v26, v13, v22, v71, v22, v71, v22, v71, v22, v71, v22, v71, v22, v71, v22, v71, v22, v1, v21, v68, v75, v68, v75, v68, v75, v68, v75, v68, v75, v68, v75, v68, v21, v1, v24, v89, v3, v0, v2, v20, v91, v35, v51, v32, v8, v84, v8, v12, v8, v57, v18, v52, v18, v88, v18, v40, v87, v40, v87, v40, v87, v40, v18, v80, v7, v17, v61, v17, v7, v55, v7, v77, v7, v19, v7, v17, v7, v77, v1, v69, v1, v6, v1, v42, v4, v34, v94, v58, v37, v35, v23, v60]"; 
hidden[6] = "[v10, v0, v96, v18, v3]"; 
path[6] = "[v26, v1, v21, v68, v75, v68, v21, v1, v24, v89, v3, v0, v2, v20, v91, v35, v51, v32, v8, v84, v8, v12, v8, v57, v18, v52, v0, v10, v0, v66, v1, v81, v49, v44, v31, v38, v31, v58, v94, v34, v4, v60, v23, v15, v0, v5, v13, v36, v64, v45, v25, v76, v49, v73, v49, v70, v41, v0, v54, v0, v96]"; 
hidden[7] = "[v31, v44, v92, v8, v51]"; 
path[7] = "[v21, v1, v26, v13, v5, v0, v2, v20, v91, v35, v51, v32, v8, v84, v35, v23, v60, v4, v34, v94, v58, v37, v24, v89, v3, v18, v52, v18, v88, v18, v40, v87, v40, v87, v40, v18, v80, v7, v17, v61, v17, v7, v55, v7, v77, v7, v19, v7, v80, v7, v19, v7, v77, v1, v81, v49, v44, v31, v38, v31, v38, v31, v58, v31, v58, v37, v0, v10, v0, v66, v0, v15, v23, v15, v0, v54, v0, v96, v18, v57, v92]"; 
hidden[8] = "[v17, v61, v80, v99, v89]"; 
path[8] = "[v29, v8, v84, v35, v51, v32, v51, v32, v8, v12, v8, v57, v18, v52, v0, v2, v20, v91, v57, v92, v44, v49, v81, v90, v81, v1, v26, v13, v5, v7, v17, v61, v17, v61, v17, v61, v17, v7, v55, v7, v80, v89, v3, v59, v3, v0, v10, v0, v66, v1, v21, v68, v75, v68, v75, v68, v75, v68, v21, v1, v24, v37, v58, v94, v34, v4, v60, v23, v15, v2, v50, v20, v2, v28, v2, v42, v4, v74, v4, v60, v4, v74, v35, v91, v57, v92, v57, v8, v47, v53, v67, v53, v2, v56, v2, v33, v39, v33, v0, v54, v0, v96, v0, v41, v70, v41, v70, v41, v8, v62, v8, v16, v63, v93, v63, v86, v63, v79, v63, v1, v69, v1, v6, v1, v30, v78, v30, v78, v30, v78, v5, v83, v5, v14, v5, v43, v5, v85, v5, v1, v82, v1, v65, v1, v77, v1, v46, v1, v27, v1, v9, v1, v22, v71, v22, v71, v22, v1, v11, v48, v11, v72, v49, v76, v25, v45, v64, v36, v13, v31, v38, v31, v58, v37, v24, v37, v0, v54, v0, v2, v28, v2, v53, v47, v8, v47, v8, v84, v8, v41, v8, v84, v8, v41, v70, v41, v8, v62, v8, v1, v69, v1, v24, v1, v8, v16, v8, v1, v30, v1, v9, v1, v13, v36, v64, v36, v64, v36, v13, v25, v98, v25, v13, v31, v38, v31, v44, v92, v57, v92, v57, v18, v88, v18, v40, v87, v40, v18, v97, v18, v80, v7, v19, v7, v77, v7, v77, v1, v8, v1, v13, v36, v64, v36, v64, v36, v64, v36, v64, v36, v13, v1, v81, v1, v63, v16, v8, v1, v65, v1, v65, v1, v11, v72, v49, v73, v49, v72, v11, v48, v11, v72, v49, v72, v11, v48, v11, v72, v11, v1, v66, v0, v2, v53, v47, v8, v5, v1, v59, v1, v21, v68, v75, v68, v75, v68, v21, v1, v60, v1, v21, v1, v8, v62, v8, v47, v53, v47, v53, v2, v20, v91, v20, v2, v53, v2, v45, v95, v45, v25, v98, v25, v13, v5, v8, v1, v59, v3, v89, v99]"; 
hidden[9] = "[v35, v74, v67, v8, v12]"; 
path[9] = "[v82, v1, v26, v13, v5, v0, v2, v20, v91, v35, v51, v32, v8, v84, v8, v12, v8, v57, v18, v52, v0, v3, v89, v24, v37, v58, v94, v34, v4, v60, v23, v15, v0, v10, v0, v66, v0, v49, v81, v90, v81, v35, v74, v4, v42, v1, v21, v68, v75, v68, v75, v68, v75, v68, v21, v1, v69, v1, v6, v1, v59, v1, v30, v78, v30, v1, v65, v1, v77, v7, v17, v61, v17, v7, v55, v7, v80, v7, v19, v7, v19, v7, v55, v7, v17, v7, v77, v7, v5, v83, v5, v14, v5, v43, v5, v85, v5, v1, v46, v1, v27, v1, v9, v1, v22, v71, v22, v71, v22, v13, v36, v64, v45, v25, v76, v25, v98, v25, v76, v49, v44, v31, v38, v31, v13, v22, v1, v63, v93, v63, v86, v63, v79, v63, v16, v63, v86, v63, v79, v63, v93, v63, v93, v63, v16, v8, v47, v53, v67]"; 
var step, play;

function showGraph() {
    
	var width = $(document).width();
	
    var height = $(document).height() - 100;

    var g = new Graph();
	
	var graph = graphNodes.split(",");
	
	var hiddenItems = hidden[$('#round-to-play').val()].substring(0, hidden[$('#round-to-play').val()].length - 1).split(",");
	
	for (var k = 0; k < hiddenItems.length; k++) {
		
		hiddenItems[k] = hiddenItems[k].substring(1, hiddenItems[k].length);
		
		g.addNode(hiddenItems[k], { label : hiddenItems[k] + " HIDE" });
	
		$('#hidden').append(hiddenItems[k] + " ");
	
	}
	
	for (var i = 0; i < graph.length; i++) {
		
		g.addEdge(graph[i].substring(graph[i].indexOf("(") + 1, graph[i].indexOf(":") - 1), graph[i].substring(graph[i].indexOf(":") + 2, graph[i].indexOf(")")));
		 
	}
	
	var layouter = new Graph.Layout.Spring(g);
	
	var searchPath = path[$('#round-to-play').val()].substring(0, path[$('#round-to-play').val()].length - 1).split(",");
	
	var renderer = new Graph.Renderer.Raphael('canvas', g, width, height);
	
	step = function() {
		
		drawPath(hiddenItems, searchPath, g, renderer);
		
		searchPath.splice(0,1);
		
	}
	
	play = function() {
		
		setInterval(function(){step()},1000);
		
	}
		
	step();
	
};

function drawPath(hiddenItems, searchPath, g, renderer) {
	
	
	for (var j = 1; j < searchPath.length; j++) {
		
	
		 /* colourising the shortest paths and setting labels */
		for(e in g.edges) {
			
			if((searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].source.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].target.id) ||
			   (searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].target.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].source.id)) {
			
				$('#output').html(searchPath[j-1].substring(1,searchPath[j-1].length) + " to " + searchPath[j].substring(1,searchPath[j].length));
				
				for (var l = 0; l < hiddenItems.length; l++) {
				
					if ( hiddenItems[l] == g.edges[e].source.id || hiddenItems[l] == g.edges[e].target.id ) {
						
						//alert(hiddenItems[l] + " " + g.edges[e].source.id);
						//alert(hiddenItems[l] + " " + g.edges[e].target.id);
						hiddenItems.splice(l, 1);
						$('#hidden').html("Hidden Items: ");
						
						for (var o = 0; o < hiddenItems.length; o++) {
		
							//alert(hiddenItems);
							
							$('#hidden').append(hiddenItems[o] + " ");
						
						}
	
					}
					
				}
				
				g.edges[e].style.stroke = "#00c8a1";
				g.edges[e].style.fill = "#00c8a1";
				
				renderer.draw();
				return;
				
			} else {
				
				g.edges[e].style.stroke = "#fff";
			
			}
			
		}
		
	}

}

function getRandomColor() {
	
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
	
}
