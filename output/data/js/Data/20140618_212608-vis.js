var graphNodes = "[(v1 : v0) 5.627614788873485, (v2 : v1) 9.744587643689417, (v3 : v1) 8.935437481005167, (v4 : v1) 0.4421462112755026, (v5 : v1) 1.7342468548257461, (v1 : v6) 1.2273452906506166, (v6 : v4) 8.986457814412521, (v1 : v7) 5.691656770815734, (v8 : v1) 4.33763289429693, (v1 : v9) 2.411384204325542, (v1 : v10) 7.193711664385775, (v11 : v4) 0.20139175782101337, (v0 : v12) 9.439344205227343, (v7 : v12) 2.841858391149689, (v1 : v13) 1.1983431539177303, (v1 : v14) 1.9926720536226816, (v15 : v4) 5.101399584253343, (v16 : v12) 7.903379519446384, (v8 : v17) 9.137818073778625, (v1 : v18) 7.4683444487348964, (v18 : v4) 2.9306338503185927, (v19 : v4) 1.5361262076798798, (v20 : v4) 9.947856252494478, (v6 : v20) 2.9344368594050407, (v18 : v20) 5.162745674738577, (v7 : v21) 2.0990082134304453, (v1 : v22) 0.5752288259939309, (v1 : v23) 3.5842086282817567, (v1 : v24) 9.033343000088564, (v19 : v24) 8.079416574859193, (v25 : v4) 4.332687798461151, (v26 : v20) 6.258380533404031, (v27 : v4) 4.664316825604717, (v0 : v28) 2.1557184460874046, (v6 : v28) 9.324552670619392, (v29 : v0) 0.5082142443410265, (v1 : v29) 0.047393286407486634, (v2 : v29) 9.237805097320885, (v4 : v29) 8.381247942545473, (v30 : v4) 1.0135070173222582, (v25 : v30) 6.872726495742128, (v18 : v31) 6.542637109882696, (v23 : v31) 2.2633512230304897, (v32 : v27) 3.2454520608494573, (v32 : v31) 3.928912474512203, (v33 : v4) 1.5058748353423679, (v12 : v34) 6.030475688549104, (v12 : v35) 3.4147117734097474, (v35 : v32) 0.5918190179846949, (v1 : v36) 6.387318911415813, (v37 : v1) 4.417579586613113, (v38 : v20) 3.2079364116798867, (v39 : v32) 1.5231402278790451, (v40 : v23) 6.797032171592612, (v40 : v28) 5.821054022468591, (v12 : v41) 9.591355701660587, (v20 : v41) 5.115606460801877, (v1 : v42) 5.050646063610559, (v42 : v30) 6.069216865967528, (v29 : v43) 0.04795802214973888, (v20 : v44) 2.4502855772038767, (v45 : v6) 8.256505976611768, (v29 : v46) 2.5365939907882193, (v47 : v32) 4.015163437817445, (v11 : v48) 0.5724394048153836, (v28 : v49) 5.343940434945238, (v31 : v49) 6.358645851628029, (v45 : v49) 2.002790355675269, (v6 : v50) 3.74590242413549, (v51 : v25) 6.861087989169726, (v29 : v51) 5.513352913064179, (v37 : v52) 4.8965018342284345, (v52 : v40) 9.011976865826002, (v52 : v43) 6.302349294245588, (v53 : v20) 4.358348495654377, (v43 : v54) 7.289809851096646, (v1 : v55) 7.857343785220162, (v41 : v56) 1.96967936844896, (v49 : v56) 5.847045692684619, (v1 : v57) 0.3381081719219814, (v44 : v57) 4.086515119859369, (v58 : v28) 3.9285682110019637, (v59 : v19) 1.094475192030645, (v12 : v60) 1.5910934336840543, (v7 : v61) 9.097857455919042, (v21 : v61) 1.4887057300409323, (v32 : v61) 7.223314187407587, (v62 : v35) 1.5353241294615727, (v29 : v63) 9.678241779503287, (v64 : v6) 2.820962920285824, (v17 : v65) 8.49285366166373, (v66 : v54) 9.1665582102041, (v67 : v56) 0.15988640785939423, (v65 : v67) 9.816462418951765, (v7 : v68) 7.598415615218218, (v35 : v68) 1.8119034923241129, (v40 : v69) 0.32397256736540925, (v69 : v56) 8.10015468080253, (v51 : v70) 3.7259989576900185, (v71 : v1) 7.6347003980631865, (v32 : v71) 2.789135034559439, (v59 : v71) 4.2304533001819, (v1 : v72) 1.4566948826013282, (v20 : v72) 2.780451938043763, (v72 : v32) 8.788937359441315, (v73 : v40) 9.54812743338261, (v73 : v71) 9.93768614405153, (v1 : v74) 8.960002943761289, (v75 : v20) 9.220964633293635, (v75 : v46) 2.8817848945812674, (v29 : v76) 4.871398458009519, (v76 : v73) 1.41656427316178, (v33 : v77) 8.641176296983044, (v49 : v77) 2.373925237256218, (v78 : v46) 6.821649621741617, (v77 : v78) 1.6860667200044543, (v79 : v69) 3.480680802960051, (v80 : v4) 0.06067936406212948, (v73 : v81) 8.095399073465524, (v29 : v82) 4.335719170857752, (v82 : v58) 2.1781087398620294, (v83 : v27) 1.5199953856865012, (v83 : v28) 7.030971028210599, (v84 : v43) 1.9535363213313495, (v4 : v85) 4.149275028029597, (v69 : v85) 6.897166907272391, (v86 : v12) 2.908387908503393, (v4 : v87) 8.061997008820184, (v87 : v20) 6.556838169696477, (v88 : v1) 8.923246497870496, (v1 : v89) 6.894716927616553, (v45 : v89) 3.341874081003511, (v72 : v89) 2.6961820108516577, (v81 : v90) 8.161022336410246, (v72 : v91) 4.447099143544704, (v77 : v92) 6.577679738644725, (v93 : v0) 3.47975380408037, (v93 : v19) 5.644879298363225, (v93 : v66) 2.418392166219366, (v49 : v94) 8.074051317357831, (v73 : v94) 3.980617779110739, (v27 : v95) 8.325007215846833, (v96 : v1) 9.745130763977595, (v20 : v96) 9.942798162800596, (v23 : v97) 0.2869927007363948, (v83 : v97) 3.2830552831142876, (v40 : v98) 4.044766310807187, (v98 : v75) 4.62321795745736, (v99 : v88) 8.023057075970616]"; 
 var hidden = new Array(); 
 var path = new Array(); 
hidden[0] = "[v2, v88, v99, v71, v29]"; 
path[0] = "[v19, v59, v71, v32, v35, v62, v35, v68, v7, v21, v61, v21, v61, v7, v12, v60, v12, v86, v12, v34, v12, v16, v12, v0, v29, v1, v57, v44, v20, v72, v89, v45, v49, v77, v78, v46, v75, v98, v40, v69, v79, v69, v85, v4, v80, v4, v11, v48, v11, v4, v30, v42, v1, v22, v1, v13, v1, v6, v64, v6, v50, v6, v28, v58, v82, v58, v28, v83, v27, v95, v27, v32, v39, v32, v31, v23, v97, v83, v28, v58, v82, v58, v28, v6, v64, v6, v20, v38, v20, v53, v20, v41, v56, v67, v65, v17, v8, v17, v8, v1, v5, v1, v14, v1, v9, v1, v37, v52, v43, v84, v43, v54, v66, v93, v0, v29, v76, v73, v94, v73, v81, v90, v81, v90, v81, v73, v40, v28, v83, v97, v23, v31, v18, v31, v18, v4, v33, v77, v92, v77, v33, v77, v78, v46, v78, v46, v75, v20, v26, v20, v87, v20, v96, v1, v36, v1, v10, v1, v55, v1, v88, v99, v88, v1, v3, v1, v74, v1, v24, v1, v2]"; 
hidden[1] = "[v90, v81, v73, v76, v70]"; 
path[1] = "[v52, v37, v1, v29, v43, v84, v43, v54, v66, v93, v0, v28, v58, v82, v58, v28, v49, v45, v89, v72, v20, v44, v57, v1, v4, v80, v4, v11, v48, v11, v48, v11, v48, v11, v4, v30, v42, v1, v22, v1, v13, v1, v6, v64, v6, v50, v6, v50, v6, v28, v40, v69, v79, v69, v85, v4, v33, v77, v78, v46, v75, v98, v40, v23, v97, v83, v27, v32, v35, v62, v35, v68, v7, v21, v61, v7, v12, v60, v12, v86, v12, v34, v12, v16, v12, v41, v56, v67, v65, v17, v8, v17, v65, v67, v56, v49, v31, v18, v20, v38, v20, v53, v20, v26, v20, v87, v20, v96, v20, v87, v20, v18, v31, v49, v94, v73, v76, v29, v51, v70, v51, v25, v51, v70, v51, v25, v51, v29, v2, v1, v5, v1, v14, v1, v9, v1, v36, v1, v10, v1, v71, v59, v19, v24, v1, v55, v1, v88, v99, v88, v99, v88, v1, v3, v1, v74, v1, v7, v68, v7, v68, v35, v62, v35, v68, v35, v12, v0, v93, v19, v93, v19, v24, v19, v59, v19, v93, v19, v59, v71, v1, v37, v1, v5, v1, v5, v1, v24, v19, v24, v19, v93, v0, v93, v66, v54, v66, v54, v66, v93, v0, v1, v5, v1, v14, v1, v42, v30, v25, v51, v70, v51, v70, v51, v29, v63, v29, v0, v29, v76, v73, v81, v90]"; 
hidden[2] = "[v1, v18, v29, v51, v30]"; 
path[2] = "[v37, v1, v29, v43, v84, v43, v52, v40, v69, v79, v69, v85, v4, v80, v4, v11, v48, v11, v48, v11, v48, v11, v48, v11, v48, v11, v4, v30, v42, v1, v57, v44, v20, v72, v89, v45, v49, v77, v78, v46, v75, v98, v75, v98, v75, v46, v78, v46, v75, v20, v6, v64, v6, v50, v6, v28, v0, v93, v66, v54, v66, v54, v43, v54, v43, v52, v37, v52, v40, v23, v97, v83, v27, v32, v35, v62, v35, v68, v7, v21, v61, v32, v39, v32, v71, v59, v19, v24, v1, v22, v1, v13, v1, v5, v1, v14, v1, v9, v1, v8, v17, v65, v67, v56, v41, v12, v60, v12, v86, v12, v34, v12, v16, v12, v0, v28, v58, v82, v58, v28, v6, v45, v6, v20, v38, v20, v53, v20, v18, v31, v32, v47, v32, v61, v7, v12, v41, v20, v26, v20, v87, v4, v33, v77, v92, v77, v92, v77, v92, v77, v78, v46, v29, v76, v73, v94, v49, v31, v49, v94, v73, v81, v90, v81, v90, v81, v73, v81, v73, v71, v32, v72, v91, v72, v1, v36, v1, v10, v1, v55, v1, v88, v99, v88, v1, v3, v1, v74, v1, v2, v1, v96, v1, v23, v97, v83, v97, v23, v97, v23, v1, v7, v1, v2, v1, v36, v1, v89, v72, v91, v72, v91, v72, v1, v18, v20, v38, v20, v6, v45, v6, v1, v55, v1, v23, v31, v49, v56, v67, v65, v17, v65, v67, v56, v49, v28, v6, v20, v87, v20, v4, v25, v51]"; 
hidden[3] = "[v73, v29, v51, v30, v32]"; 
path[3] = "[v98, v40, v69, v79, v69, v85, v4, v80, v4, v11, v48, v11, v4, v1, v29, v43, v84, v43, v52, v37, v1, v57, v44, v20, v72, v89, v45, v49, v77, v78, v46, v75, v46, v29, v0, v28, v58, v82, v29, v76, v73, v94, v49, v56, v67, v65, v17, v8, v1, v22, v1, v13, v1, v6, v64, v6, v50, v6, v1, v5, v1, v14, v1, v9, v1, v23, v97, v83, v27, v32, v35, v62, v35, v68, v7, v21, v61, v21, v61, v21, v7, v12, v60, v12, v86, v12, v34, v12, v16, v12, v41, v12, v7, v21, v61, v32, v39, v32, v71, v59, v19, v93, v66, v54, v66, v93, v66, v93, v66, v54, v66, v93, v66, v54, v66, v93, v19, v24, v19, v24, v1, v42, v30, v25, v51]"; 
hidden[4] = "[v45, v6, v49, v32, v4]"; 
path[4] = "[v26, v20, v44, v57, v1, v29, v43, v84, v43, v52, v37, v1, v4, v80, v4, v11, v48, v11, v4, v30, v42, v1, v22, v1, v13, v1, v6, v64, v6, v50, v6, v45, v49, v77, v78, v46, v75, v98, v40, v69, v79, v69, v85, v69, v56, v67, v65, v17, v8, v1, v72, v89, v45, v6, v28, v0, v93, v66, v54, v43, v29, v82, v58, v82, v29, v76, v73, v94, v49, v31, v23, v97, v83, v27, v32]"; 
hidden[5] = "[v29, v2, v1, v42, v30]"; 
path[5] = "[v11, v4, v80, v4, v1, v29, v43, v84, v43, v52, v37, v52, v40, v69, v79, v69, v85, v4, v30, v42, v30, v25, v51, v70, v51, v70, v51, v29, v0, v28, v58, v82, v58, v28, v49, v45, v89, v72, v20, v44, v57, v44, v20, v6, v64, v6, v50, v6, v45, v89, v45, v49, v77, v78, v46, v75, v98, v75, v98, v40, v23, v97, v83, v27, v32, v35, v62, v35, v68, v7, v21, v61, v32, v39, v32, v71, v59, v19, v93, v66, v54, v66, v54, v66, v54, v66, v54, v43, v54, v43, v54, v43, v54, v43, v84, v43, v29, v76, v73, v94, v49, v56, v67, v65, v17, v8, v1, v22, v1, v13, v1, v5, v1, v14, v1, v9, v1, v36, v1, v10, v1, v18, v31, v18, v31, v23, v31, v32, v47, v32, v39, v32, v61, v32, v47, v32, v27, v95, v27, v32, v47, v32, v61, v32, v61, v7, v12, v60, v12, v86, v12, v34, v12, v16, v12, v41, v12, v7, v1, v55, v1, v88, v99, v88, v1, v3, v1, v74, v1, v24, v19, v59, v71, v59, v71, v59, v19, v93, v19, v59, v19, v4, v33, v77, v92, v77, v92, v77, v92, v77, v92, v77, v92, v77, v49, v56, v67, v65, v67, v56, v69, v79, v69, v85, v69, v40, v98, v40, v23, v1, v2]"; 
hidden[6] = "[v88, v1, v21, v32, v45]"; 
path[6] = "[v60, v12, v7, v21, v61, v32, v35, v62, v35, v68, v7, v1, v29, v43, v84, v43, v52, v37, v52, v40, v69, v79, v69, v85, v4, v80, v4, v11, v48, v11, v48, v11, v48, v11, v48, v11, v4, v30, v42, v1, v57, v44, v20, v72, v89, v45, v49, v77, v78, v46, v75, v98, v40, v28, v0, v93, v66, v54, v66, v93, v19, v59, v71, v73, v76, v73, v94, v49, v56, v67, v65, v17, v8, v1, v22, v1, v13, v1, v6, v64, v6, v50, v6, v4, v33, v77, v92, v77, v92, v77, v33, v4, v18, v31, v23, v97, v83, v27, v95, v27, v95, v27, v95, v27, v83, v97, v83, v27, v32, v39, v32, v47, v32, v47, v32, v61, v21, v61, v21, v61, v7, v21, v7, v68, v35, v32, v35, v32, v61, v21, v7, v68, v7, v61, v21, v7, v1, v5, v1, v14, v1, v9, v1, v36, v1, v10, v1, v55, v1, v88]"; 
hidden[7] = "[v6, v1, v67, v56, v12]"; 
path[7] = "[v40, v69, v79, v69, v85, v4, v80, v4, v11, v48, v11, v4, v1, v29, v43, v84, v43, v52, v37, v1, v57, v44, v20, v72, v89, v45, v49, v77, v78, v46, v75, v98, v75, v46, v75, v98, v75, v20, v6, v64, v6, v50, v6, v28, v0, v93, v66, v54, v43, v54, v66, v54, v43, v29, v82, v58, v82, v29, v76, v73, v94, v73, v81, v90, v81, v73, v71, v32, v35, v62, v35, v68, v7, v21, v61, v7, v12, v60, v12, v86, v12, v34, v12, v16, v12, v41, v56, v67]"; 
hidden[8] = "[v20, v41, v49, v32, v72]"; 
path[8] = "[v87, v20, v44, v57, v1, v29, v43, v84, v43, v52, v37, v1, v4, v80, v4, v11, v48, v11, v48, v11, v4, v30, v42, v1, v22, v1, v13, v1, v6, v64, v6, v50, v6, v45, v49, v77, v78, v46, v75, v98, v40, v69, v79, v69, v85, v4, v33, v4, v19, v59, v71, v32, v35, v62, v35, v68, v7, v21, v61, v32, v39, v32, v27, v83, v97, v23, v31, v18, v4, v25, v51, v70, v51, v29, v0, v28, v58, v82, v58, v82, v58, v82, v58, v28, v6, v1, v72, v89, v72, v91, v72, v91, v72, v32, v47, v32, v27, v95, v27, v4, v15, v4, v33, v4, v11, v4, v30, v42, v30, v42, v1, v5, v1, v14, v1, v9, v1, v8, v17, v65, v67, v56, v41]"; 
hidden[9] = "[v29, v75, v73, v94, v18]"; 
path[9] = "[v1, v29, v43, v84, v43, v52, v37, v1, v57, v44, v20, v72, v89, v45, v49, v77, v78, v46, v75, v98, v40, v69, v79, v69, v85, v4, v80, v4, v11, v48, v11, v4, v30, v42, v30, v25, v51, v70, v51, v25, v4, v33, v4, v19, v59, v71, v32, v35, v62, v35, v68, v7, v21, v61, v32, v39, v32, v27, v83, v97, v23, v31, v18, v1, v22, v1, v13, v1, v6, v64, v6, v50, v6, v28, v0, v93, v66, v54, v66, v93, v0, v12, v60, v12, v86, v12, v34, v12, v16, v12, v41, v56, v67, v65, v17, v8, v1, v5, v1, v14, v1, v9, v1, v36, v1, v10, v1, v55, v1, v88, v99, v88, v1, v3, v1, v74, v1, v24, v1, v2, v1, v96, v20, v38, v20, v53, v20, v26, v20, v87, v4, v15, v4, v80, v4, v87, v4, v33, v77, v92, v77, v49, v94, v73]"; 
var step, play;

function showGraph() {
    
	var width = $(document).width();
	
    var height = $(document).height() - 100;

    var g = new Graph();
	
	var graph = graphNodes.split(",");
	
	var hiddenItems = hidden[$('#round-to-play').val()].substring(0, hidden[$('#round-to-play').val()].length - 1).split(",");
	
	for (var k = 0; k < hiddenItems.length; k++) {
		
		hiddenItems[k] = hiddenItems[k].substring(1, hiddenItems[k].length);
		
		g.addNode(hiddenItems[k], { label : hiddenItems[k] + " HIDE" });
	
		$('#hidden').append(hiddenItems[k] + " ");
	
	}
	
	for (var i = 0; i < graph.length; i++) {
		
		g.addEdge(graph[i].substring(graph[i].indexOf("(") + 1, graph[i].indexOf(":") - 1), graph[i].substring(graph[i].indexOf(":") + 2, graph[i].indexOf(")")));
		 
	}
	
	var layouter = new Graph.Layout.Spring(g);
	
	var searchPath = path[$('#round-to-play').val()].substring(0, path[$('#round-to-play').val()].length - 1).split(",");
	
	var renderer = new Graph.Renderer.Raphael('canvas', g, width, height);
	
	step = function() {
		
		drawPath(hiddenItems, searchPath, g, renderer);
		
		searchPath.splice(0,1);
		
	}
	
	play = function() {
		
		setInterval(function(){step()},1000);
		
	}
		
	step();
	
};

function drawPath(hiddenItems, searchPath, g, renderer) {
	
	
	for (var j = 1; j < searchPath.length; j++) {
		
	
		 /* colourising the shortest paths and setting labels */
		for(e in g.edges) {
			
			if((searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].source.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].target.id) ||
			   (searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].target.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].source.id)) {
			
				$('#output').html(searchPath[j-1].substring(1,searchPath[j-1].length) + " to " + searchPath[j].substring(1,searchPath[j].length));
				
				for (var l = 0; l < hiddenItems.length; l++) {
				
					if ( hiddenItems[l] == g.edges[e].source.id || hiddenItems[l] == g.edges[e].target.id ) {
						
						//alert(hiddenItems[l] + " " + g.edges[e].source.id);
						//alert(hiddenItems[l] + " " + g.edges[e].target.id);
						hiddenItems.splice(l, 1);
						$('#hidden').html("Hidden Items: ");
						
						for (var o = 0; o < hiddenItems.length; o++) {
		
							//alert(hiddenItems);
							
							$('#hidden').append(hiddenItems[o] + " ");
						
						}
	
					}
					
				}
				
				g.edges[e].style.stroke = "#00c8a1";
				g.edges[e].style.fill = "#00c8a1";
				
				renderer.draw();
				return;
				
			} else {
				
				g.edges[e].style.stroke = "#fff";
			
			}
			
		}
		
	}

}

function getRandomColor() {
	
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
	
}
