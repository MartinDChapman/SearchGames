var graphNodes = "[(v56 : v46) 7.035017995349019, (v15 : v4) 2.0717840172753554, (v73 : v83) 8.886585755850247, (v18 : v91) 6.908677983726577, (v2 : v79) 3.7598766006039677, (v83 : v85) 3.4696013929278315, (v54 : v91) 1.345836593961901, (v22 : v46) 3.092176106706396, (v25 : v41) 0.9277932375443665, (v7 : v4) 4.584020014162449, (v78 : v90) 4.88838319477908, (v43 : v10) 4.616538043610627, (v38 : v23) 3.6914567110701055, (v62 : v71) 4.875443705771908, (v64 : v18) 0.984367040714963, (v74 : v48) 0.968029170916106, (v26 : v89) 8.877826598666669, (v96 : v88) 0.48440336220176183, (v54 : v53) 1.9822794172841807, (v63 : v25) 8.118064662032454, (v22 : v4) 3.015014044535098, (v70 : v3) 2.739442881370606, (v6 : v13) 6.500765764719373, (v51 : v81) 4.559786470349576, (v49 : v46) 1.6863788633609789, (v75 : v68) 3.703665908151068, (v71 : v12) 2.849464495945433, (v60 : v56) 4.7142650492202565, (v58 : v11) 8.930414013762123, (v2 : v94) 3.740715985198657, (v11 : v37) 4.241387374349623, (v53 : v84) 6.801354102416076, (v85 : v80) 4.945997644013027, (v36 : v17) 2.887605076116352, (v53 : v80) 9.256622395255897, (v16 : v17) 5.483123470632693, (v72 : v15) 2.7161128818273994, (v61 : v56) 9.940945842122812, (v62 : v25) 8.526902067835882, (v42 : v19) 3.113182744462728, (v3 : v41) 9.329146219220606, (v3 : v15) 0.5947847967067954, (v25 : v33) 3.932846589656278, (v3 : v78) 7.263098421841706, (v23 : v66) 5.755397445385877, (v32 : v90) 8.71236863558428, (v0 : v63) 9.740454299522348, (v81 : v89) 6.34749861016531, (v64 : v96) 9.627443167197047, (v71 : v67) 2.870826248311664, (v23 : v76) 6.0506839497402325, (v83 : v86) 9.632351857109535, (v64 : v76) 9.176515870254512, (v83 : v92) 3.686879741465947, (v38 : v99) 3.6957295734243703, (v92 : v24) 2.686293229078538, (v76 : v6) 2.8930754180890714, (v45 : v70) 6.11334560021418, (v8 : v21) 6.287865394853797, (v42 : v65) 4.422765547272711, (v26 : v48) 8.708262843462544, (v72 : v74) 4.8903219340258435, (v96 : v81) 9.511491233695363, (v45 : v3) 7.281132731520539, (v19 : v7) 8.533946194351374, (v20 : v68) 0.6416052232303115, (v4 : v13) 9.94628855308772, (v72 : v81) 7.807810110611654, (v41 : v2) 8.852581051078209, (v81 : v94) 8.726013582020354, (v75 : v60) 5.719148860844245, (v23 : v65) 0.9238533186836684, (v8 : v51) 5.7141215807473085, (v61 : v31) 2.8849384633140254, (v53 : v94) 9.1048135345892, (v21 : v35) 7.503330509498019, (v97 : v23) 2.975742518490293, (v93 : v2) 0.9715861132993042, (v75 : v24) 6.829922154971168, (v47 : v57) 1.5372011414548103, (v64 : v62) 5.911135479484503, (v49 : v16) 0.6040119851253278, (v74 : v76) 7.2824347495117925, (v78 : v51) 0.12030767053969549, (v93 : v20) 8.419670406843675, (v21 : v43) 8.453187248409277, (v25 : v51) 5.088161095298407, (v73 : v98) 6.774482597285051, (v29 : v13) 0.9817200448160424, (v58 : v70) 8.058986600566499, (v3 : v47) 2.588390845105517, (v8 : v93) 6.208661585637549, (v84 : v37) 8.234966068905962, (v1 : v82) 7.561114587621516, (v15 : v88) 4.6373873748512775, (v90 : v84) 6.517284088155725, (v34 : v80) 9.587519340959286, (v43 : v48) 0.5386409618118748, (v90 : v20) 7.835776065794915, (v40 : v10) 3.0311548811215596, (v61 : v99) 3.6372015855353235, (v65 : v53) 0.2709452161349457, (v37 : v95) 7.825615589885956, (v32 : v92) 6.560327472498152, (v51 : v73) 7.332352498099089, (v78 : v28) 0.16451955537723495, (v53 : v83) 8.595215334264509, (v36 : v31) 7.606464224037186, (v81 : v14) 3.788042660532447, (v2 : v31) 0.8342170456797182, (v88 : v65) 5.8765217906222755, (v11 : v21) 7.27251973257342, (v96 : v71) 8.462585525937795, (v79 : v70) 7.384166769050935, (v75 : v57) 2.6651643457426943, (v53 : v92) 5.060476094058055, (v8 : v91) 2.0027615735060698, (v27 : v58) 8.802731655091156, (v19 : v5) 8.653017649360962, (v96 : v89) 3.523263611710159, (v45 : v60) 9.482177389006551, (v74 : v55) 5.067510777912823, (v58 : v55) 6.935399432195055, (v87 : v13) 9.824875109659626, (v32 : v43) 9.985705888098886, (v78 : v13) 6.550536657759483, (v89 : v69) 0.7397946487937224, (v87 : v47) 4.663087817412497, (v29 : v59) 7.533960769798979, (v43 : v50) 4.6204604368734, (v81 : v76) 0.12025617893819285, (v1 : v8) 9.722084044733151, (v88 : v58) 4.195282242674243, (v3 : v38) 1.957649833438816, (v64 : v6) 3.5714007934165926, (v57 : v93) 5.847662427149022, (v73 : v37) 8.898720516238559, (v89 : v45) 6.029774977151544, (v91 : v93) 2.3381853501811447, (v38 : v20) 5.475618136339166, (v69 : v56) 0.9400209953162364, (v99 : v16) 9.419590875430439, (v3 : v79) 5.832412384209813, (v9 : v31) 4.494258763387215, (v93 : v44) 5.463633701313647, (v5 : v20) 6.253270960721951, (v57 : v35) 5.014180561151317, (v3 : v22) 0.6849187057384543, (v33 : v93) 9.307280379691361, (v35 : v81) 4.846781127978662, (v14 : v93) 6.856261198826244, (v5 : v38) 8.159720194248038, (v23 : v24) 9.511630640606974, (v35 : v67) 2.8694305369815734, (v52 : v24) 7.081646923864268, (v52 : v9) 9.803724595580421, (v88 : v1) 3.5261561671417607, (v89 : v40) 2.8178721730053136, (v10 : v37) 0.24928446032901008, (v38 : v89) 2.6290024557928895, (v48 : v96) 9.683242211163865, (v98 : v89) 2.4004677815681665, (v21 : v20) 5.960270394106487, (v98 : v96) 4.161048010008743, (v42 : v51) 8.866157801238195, (v73 : v62) 6.551070272037883, (v35 : v61) 7.466553540877804, (v68 : v2) 1.503348536707283, (v54 : v5) 3.4624955741408647, (v43 : v92) 5.222923643585368, (v57 : v9) 4.286449968638944, (v77 : v6) 8.56381422913969, (v71 : v74) 7.673213200366672, (v30 : v75) 3.8575134246380403, (v92 : v3) 3.5660506460497032, (v97 : v26) 1.0771605211895996, (v29 : v3) 4.038419546859664, (v21 : v72) 1.479845014568717, (v77 : v92) 5.872856110975039, (v40 : v29) 3.5202297730162515, (v5 : v29) 4.644565802280089, (v50 : v96) 4.740769613807473, (v29 : v23) 9.867750096746189, (v88 : v73) 6.792628289908631, (v69 : v25) 1.8937220992370374, (v36 : v21) 4.908614049604454, (v75 : v58) 6.873677927269755, (v34 : v76) 0.6229400511153793, (v14 : v60) 2.944124332555258, (v76 : v84) 8.80651396825324, (v20 : v54) 0.74417144271544, (v26 : v50) 0.061181572657579286, (v61 : v39) 3.9722056160582477, (v60 : v98) 3.9984900339638916, (v16 : v42) 0.6321210550633416, (v68 : v63) 1.1310386138198558, (v90 : v95) 5.259831180566689, (v52 : v99) 3.146448718123822, (v7 : v25) 4.268963185309983, (v82 : v42) 6.740825029050863, (v16 : v18) 5.776477259164023, (v48 : v75) 2.3919244867413516, (v61 : v70) 7.186718860922142, (v41 : v62) 0.2899941828327435, (v3 : v13) 6.404608151283928, (v48 : v4) 3.8605303051147755, (v54 : v92) 8.950081586793935, (v71 : v39) 1.0584187530720102, (v79 : v9) 4.247521039594035, (v84 : v92) 2.9437138065151967, (v40 : v43) 0.9130201763185541, (v89 : v61) 2.4285522870336953, (v96 : v83) 6.562444954963197, (v14 : v34) 6.88156372375909, (v16 : v28) 1.2741280376857167, (v13 : v80) 1.2659691677312535, (v52 : v37) 1.7776934786111187, (v73 : v49) 2.3520515661302897, (v9 : v58) 2.277215050205702, (v68 : v97) 4.371678500318941, (v61 : v63) 6.78119091667369, (v33 : v43) 6.266227635237277, (v78 : v23) 1.2884043185498428, (v1 : v50) 5.8199893528798174, (v92 : v61) 4.208701942562822, (v2 : v55) 5.775542302929811, (v97 : v70) 2.1782615241113645, (v16 : v57) 7.208603758708721, (v45 : v99) 0.8136137031073143, (v40 : v22) 0.6165921931674323, (v46 : v29) 5.947250792345588, (v79 : v17) 1.3729954860730564, (v27 : v2) 8.16613475756765, (v26 : v31) 3.350240178133448, (v85 : v99) 9.855075727770586, (v45 : v42) 8.955034804456265, (v39 : v69) 9.90828815631545, (v21 : v22) 0.7961940912858001, (v16 : v40) 2.4492300674958187, (v73 : v30) 6.366196725895893, (v43 : v28) 5.582097793140042, (v94 : v5) 3.0207733831144354, (v76 : v20) 7.835348822662198, (v9 : v85) 3.1485926931336996, (v64 : v59) 9.651873890920928, (v81 : v91) 4.604727866751624, (v44 : v45) 6.291716175894766, (v30 : v21) 6.512447378311096, (v91 : v35) 5.757526695247298, (v13 : v9) 6.599619975952429, (v56 : v99) 9.902550930800267, (v90 : v96) 0.9165402507605758, (v41 : v44) 0.46435033238421686, (v65 : v33) 6.575418639539079, (v22 : v71) 1.2694560528489696, (v29 : v86) 0.958516067740639, (v29 : v72) 7.815732810673723, (v49 : v12) 8.468593120288258, (v22 : v43) 0.5576877368140865, (v98 : v15) 6.554862683549145, (v0 : v1) 5.848766586273325, (v41 : v20) 3.5591388234229604, (v58 : v1) 1.1436600104089145, (v22 : v53) 0.4157432121322602, (v46 : v28) 8.898748034377485, (v18 : v45) 8.836603719537536, (v73 : v72) 6.952369230115484, (v36 : v98) 9.157763493930753, (v71 : v41) 4.997070420273875, (v37 : v89) 9.259329295155116, (v48 : v69) 5.208189853730735, (v33 : v46) 1.0481408531692238, (v20 : v36) 5.95802908040707, (v67 : v19) 5.96775670485563, (v13 : v23) 6.769755008588334, (v71 : v46) 5.336637446745859, (v78 : v34) 8.853578293742988, (v78 : v31) 3.3817894199834795, (v6 : v26) 2.479402747535807, (v86 : v53) 0.4070045762534813, (v27 : v10) 1.4910852904757521, (v13 : v38) 4.293849342440001, (v23 : v50) 8.029937622255833, (v97 : v61) 0.5675841548724214, (v75 : v93) 1.237652579188624, (v78 : v67) 3.5633969416513214, (v63 : v8) 1.7362146394302336, (v75 : v46) 4.2010937320886015, (v92 : v56) 6.07559130032479, (v59 : v38) 7.8253305752772215, (v35 : v49) 9.296328005831391, (v16 : v22) 9.206522761576405, (v75 : v97) 9.127140534403184, (v91 : v24) 0.7438223585459858, (v84 : v24) 7.136946637064261, (v56 : v65) 5.1914476828358955, (v88 : v42) 3.0525487524795993, (v91 : v48) 0.7747837299504223, (v27 : v75) 1.2596032120099754, (v32 : v95) 5.7109740455739875]"; 
 var hidden = new Array(); 
 var path = new Array(); 
hidden[0] = "[v56, v65, v58, v26, v36]"; 
path[0] = "[v4, v15, v3, v22, v53, v65, v23, v78, v51, v81, v76, v34, v14, v60, v98, v89, v69, v56, v92, v24, v91, v48, v43, v40, v16, v49, v46, v33, v25, v41, v62, v71, v39, v61, v97, v26, v50, v96, v88, v42, v19, v67, v35, v57, v47, v87, v13, v29, v86, v83, v85, v9, v58, v1, v0, v63, v68, v20, v54, v5, v94, v2, v31, v36]"; 
hidden[1] = "[v73, v46, v19, v42, v8]"; 
path[1] = "[v91, v24, v92, v84, v90, v96, v88, v42, v16, v49, v46, v33, v25, v41, v62, v71, v39, v61, v97, v26, v50, v43, v48, v74, v72, v21, v22, v53, v65, v23, v78, v51, v81, v76, v34, v14, v60, v98, v89, v69, v56, v99, v45, v70, v3, v15, v4, v7, v19, v67, v35, v57, v47, v87, v13, v29, v86, v83, v85, v9, v58, v1, v0, v63, v68, v20, v54, v5, v94, v2, v31, v36, v17, v79, v2, v93, v75, v27, v10, v37, v52, v24, v23, v38, v59, v64, v18, v16, v28, v46, v56, v92, v77, v6, v26, v97, v61, v35, v67, v19, v7, v4, v13, v80, v85, v99, v56, v69, v25, v62, v73, v30, v75, v93, v44, v41, v25, v41, v62, v71, v12, v49, v12, v49, v35, v57, v75, v60, v45, v70, v3, v45, v42, v82, v1, v8]"; 
hidden[2] = "[v87, v84, v98, v36, v78]"; 
path[2] = "[v67, v35, v81, v76, v34, v14, v60, v98, v89, v69, v56, v65, v53, v86, v29, v13, v80, v85, v9, v58, v1, v88, v96, v90, v78, v51, v25, v41, v62, v71, v39, v61, v97, v26, v50, v43, v48, v91, v24, v92, v84, v37, v10, v27, v75, v93, v2, v31, v36, v17, v79, v3, v15, v4, v22, v40, v16, v49, v46, v33, v46, v28, v46, v33, v25, v7, v19, v42, v82, v1, v0, v63, v68, v20, v54, v5, v94, v5, v38, v23, v66, v23, v76, v6, v64, v18, v45, v99, v52, v99, v52, v99, v45, v70, v97, v26, v50, v26, v6, v77, v6, v64, v59, v64, v76, v74, v72, v21, v8, v1, v82, v42, v65, v42, v45, v44, v45, v18, v45, v44, v93, v57, v47, v87]"; 
hidden[3] = "[v67, v62, v25, v93, v61]"; 
path[3] = "[v26, v50, v43, v48, v91, v24, v92, v84, v90, v96, v88, v42, v16, v49, v46, v33, v25, v41, v62, v71, v39, v61, v97, v70, v3, v15, v4, v22, v53, v65, v23, v78, v51, v81, v76, v34, v14, v60, v98, v89, v69, v56, v99, v45, v44, v93, v2, v31, v9, v58, v1, v0, v63, v68, v20, v54, v5, v94, v53, v86, v29, v13, v80, v85, v83, v73, v30, v75, v27, v10, v37, v52, v99, v38, v59, v64, v18, v16, v28, v16, v40, v29, v72, v21, v36, v17, v79, v2, v55, v74, v48, v26, v6, v77, v92, v32, v95, v90, v96, v50, v96, v89, v38, v89, v26, v48, v4, v7, v19, v67]"; 
hidden[4] = "[v3, v45, v55, v17, v70]"; 
path[4] = "[v72, v21, v22, v53, v65, v23, v78, v51, v81, v76, v34, v14, v60, v98, v89, v69, v56, v92, v24, v91, v48, v43, v40, v16, v49, v46, v33, v25, v41, v62, v71, v39, v61, v97, v26, v50, v96, v88, v42, v19, v67, v35, v57, v47, v3, v15, v4, v7, v25, v63, v68, v20, v54, v5, v94, v2, v31, v9, v58, v1, v0, v1, v82, v1, v8, v93, v75, v27, v10, v37, v52, v99, v45, v70, v79, v17, v36, v21, v30, v73, v83, v85, v80, v13, v29, v86, v53, v84, v90, v95, v32, v90, v84, v24, v52, v24, v75, v48, v74, v55]"; 
hidden[5] = "[v42, v20, v41, v2, v93]"; 
path[5] = "[v10, v37, v52, v99, v45, v89, v69, v56, v60, v14, v81, v76, v34, v78, v51, v25, v41, v62, v71, v39, v61, v97, v26, v50, v43, v48, v91, v24, v92, v84, v90, v96, v88, v42, v16, v49, v46, v33, v65, v53, v86, v29, v13, v80, v85, v9, v58, v1, v0, v63, v68, v20, v54, v5, v94, v2, v31, v36, v17, v79, v3, v15, v4, v22, v40, v16, v28, v78, v23, v38, v59, v64, v18, v45, v70, v45, v44, v93]"; 
hidden[6] = "[v35, v70, v1, v0, v63]"; 
path[6] = "[v53, v65, v23, v78, v51, v81, v76, v34, v14, v60, v98, v89, v69, v56, v92, v24, v91, v48, v43, v22, v40, v16, v49, v46, v33, v25, v41, v62, v71, v39, v61, v97, v26, v50, v96, v88, v42, v19, v67, v35, v57, v47, v3, v15, v4, v7, v4, v13, v29, v86, v83, v85, v9, v58, v1, v0, v63, v68, v20, v54, v5, v94, v2, v31, v36, v17, v79, v70]"; 
hidden[7] = "[v82, v42, v58, v1, v63]"; 
path[7] = "[v73, v49, v16, v42, v88, v96, v90, v78, v51, v81, v76, v34, v14, v60, v98, v89, v69, v56, v65, v53, v86, v29, v13, v80, v85, v9, v58, v1, v50, v26, v97, v61, v31, v2, v93, v75, v27, v10, v37, v52, v99, v45, v70, v3, v15, v4, v22, v43, v48, v91, v24, v92, v84, v24, v23, v38, v20, v68, v63, v8, v21, v72, v74, v55, v74, v71, v39, v61, v35, v67, v19, v7, v25, v41, v62, v64, v18, v91, v54, v5, v94, v81, v91, v81, v14, v93, v44, v93, v57, v47, v87, v47, v3, v79, v17, v36, v20, v41, v2, v68, v2, v94, v5, v20, v38, v59, v64, v6, v77, v92, v83, v86, v29, v40, v89, v96, v71, v12, v71, v46, v33, v93, v75, v30, v75, v58, v11, v21, v35, v67, v19, v7, v4, v13, v78, v28, v46, v71, v41, v71, v41, v2, v27, v10, v37, v95, v32, v90, v20, v54, v91, v48, v74, v72, v74, v48, v43, v92, v83, v96, v71, v39, v69, v89, v26, v50, v43, v48, v91, v8, v93, v14, v93, v44, v93, v91, v18, v45, v70, v61, v99, v61, v35, v81, v89, v38, v5, v19, v7, v4, v48, v43, v10, v40, v16, v49, v35, v81, v35, v49, v73, v51, v78, v23, v66, v23, v50, v1, v0, v1, v82]"; 
hidden[8] = "[v46, v75, v6, v48, v74]"; 
path[8] = "[v56, v69, v89, v98, v60, v14, v81, v76, v34, v78, v51, v25, v41, v62, v71, v39, v61, v97, v26, v50, v43, v48, v91, v24, v92, v84, v90, v96, v88, v42, v16, v49, v46, v33, v65, v53, v86, v29, v13, v80, v85, v9, v58, v1, v0, v63, v68, v20, v54, v5, v94, v2, v31, v36, v17, v79, v3, v15, v4, v22, v40, v10, v37, v52, v99, v45, v70, v97, v23, v38, v59, v64, v18, v64, v6, v77, v92, v83, v73, v30, v75, v93, v44, v41, v3, v47, v57, v35, v67, v19, v7, v4, v48, v74]"; 
hidden[9] = "[v73, v98, v72, v74, v71]"; 
path[9] = "[v46, v33, v25, v41, v62, v71, v39, v61, v97, v26, v50, v43, v48, v91, v24, v92, v84, v90, v96, v88, v42, v16, v49, v73, v30, v75, v93, v2, v31, v78, v51, v81, v76, v34, v14, v60, v98, v89, v69, v56, v65, v53, v86, v29, v13, v80, v85, v9, v58, v1, v0, v63, v68, v20, v54, v5, v94, v81, v35, v67, v19, v7, v4, v15, v3, v22, v40, v10, v37, v52, v99, v45, v70, v79, v17, v36, v21, v72, v74]"; 
var step, play;

function showGraph() {
    
	var width = $(document).width();
	
    var height = $(document).height() - 100;

    var g = new Graph();
	
	var graph = graphNodes.split(",");
	
	var hiddenItems = hidden[$('#round-to-play').val()].substring(0, hidden[$('#round-to-play').val()].length - 1).split(",");
	
	for (var k = 0; k < hiddenItems.length; k++) {
		
		hiddenItems[k] = hiddenItems[k].substring(1, hiddenItems[k].length);
		
		g.addNode(hiddenItems[k], { label : hiddenItems[k] + " HIDE" });
	
		$('#hidden').append(hiddenItems[k] + " ");
	
	}
	
	for (var i = 0; i < graph.length; i++) {
		
		g.addEdge(graph[i].substring(graph[i].indexOf("(") + 1, graph[i].indexOf(":") - 1), graph[i].substring(graph[i].indexOf(":") + 2, graph[i].indexOf(")")));
		 
	}
	
	var layouter = new Graph.Layout.Spring(g);
	
	var searchPath = path[$('#round-to-play').val()].substring(0, path[$('#round-to-play').val()].length - 1).split(",");
	
	var renderer = new Graph.Renderer.Raphael('canvas', g, width, height);
	
	step = function() {
		
		drawPath(hiddenItems, searchPath, g, renderer);
		
		searchPath.splice(0,1);
		
	}
	
	play = function() {
		
		setInterval(function(){step()},1000);
		
	}
		
	step();
	
};

function drawPath(hiddenItems, searchPath, g, renderer) {
	
	
	for (var j = 1; j < searchPath.length; j++) {
		
	
		 /* colourising the shortest paths and setting labels */
		for(e in g.edges) {
			
			if((searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].source.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].target.id) ||
			   (searchPath[j-1].substring(1,searchPath[j-1].length) == g.edges[e].target.id && searchPath[j].substring(1,searchPath[j].length) == g.edges[e].source.id)) {
			
				$('#output').html(searchPath[j-1].substring(1,searchPath[j-1].length) + " to " + searchPath[j].substring(1,searchPath[j].length));
				
				for (var l = 0; l < hiddenItems.length; l++) {
				
					if ( hiddenItems[l] == g.edges[e].source.id || hiddenItems[l] == g.edges[e].target.id ) {
						
						//alert(hiddenItems[l] + " " + g.edges[e].source.id);
						//alert(hiddenItems[l] + " " + g.edges[e].target.id);
						hiddenItems.splice(l, 1);
						$('#hidden').html("Hidden Items: ");
						
						for (var o = 0; o < hiddenItems.length; o++) {
		
							//alert(hiddenItems);
							
							$('#hidden').append(hiddenItems[o] + " ");
						
						}
	
					}
					
				}
				
				g.edges[e].style.stroke = "#00c8a1";
				g.edges[e].style.fill = "#00c8a1";
				
				renderer.draw();
				return;
				
			} else {
				
				g.edges[e].style.stroke = "#fff";
			
			}
			
		}
		
	}

}

function getRandomColor() {
	
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
	
}
